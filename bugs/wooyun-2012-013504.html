<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		途牛旅行网SQL注入漏洞可导致百万用户信息安全受威胁  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		途牛旅行网SQL注入漏洞可导致百万用户信息安全受威胁  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/Hackx7">Hackx7</a> 
</li><li>提交时间：		2012-10-19 14:48</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2012-10-19：	细节已通知厂商并且等待厂商处理中<br/>
									2012-10-19：	厂商已经确认，细节仅向厂商公开<br/>
									2012-10-29：	细节向核心白帽子及相关领域专家公开<br/>
									2012-11-08：	细节向普通白帽子公开<br/>
									2012-11-18：	细节向实习白帽子公开<br/>
									2012-12-03：	细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">SQL注入漏洞，可以直接注入数据库所有内容</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail">http://www.tuniu.com/main.php?do=route_ajax_new&amp;date=&amp;flag=2&amp;cache=0.44604623204620797&amp;route_id=76041<br />
<br />
此为注入点 盲注入 </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail">这是数据库表结构，我没干坏事啊，只是检测<br />
<br />
Database: tuniu<br />
<br />
[572 tables]<br />
<br />
+-----------------------------------+<br />
<br />
| aboard_gro_order_extra            |<br />
<br />
| aboard_sin_order_extra            |<br />
<br />
| abroad_tip                        |<br />
<br />
| access_log                        |<br />
<br />
| activities                        |<br />
<br />
| activities_classes                |<br />
<br />
| activities_pic_url                |<br />
<br />
| activity_hotel                    |<br />
<br />
| activity_new                      |<br />
<br />
| additional_products               |<br />
<br />
| admin_user                        |<br />
<br />
| advise                            |<br />
<br />
| agency                            |<br />
<br />
| agency_popu                       |<br />
<br />
| agency_popu_block                 |<br />
<br />
| agency_popu_block_route           |<br />
<br />
| agency_record                     |<br />
<br />
| agency_route_email                |<br />
<br />
| agency_show_web_info              |<br />
<br />
| air_lines                         |<br />
<br />
| air_ports                         |<br />
<br />
| answers                           |<br />
<br />
| area                              |<br />
<br />
| area_desc_category                |<br />
<br />
| area_description                  |<br />
<br />
| area_hotel                        |<br />
<br />
| ashore_tourism                    |<br />
<br />
| asks_place                        |<br />
<br />
| asks_weekstar                     |<br />
<br />
| backpack_hotel                    |<br />
<br />
| backpack_hotel_additional         |<br />
<br />
| backpack_hotel_agency_relation    |<br />
<br />
| backpack_hotel_cat                |<br />
<br />
| backpack_hotel_cat_relate         |<br />
<br />
| backpack_hotel_for_theme          |<br />
<br />
| backpack_hotel_order              |<br />
<br />
| backpack_hotel_package            |<br />
<br />
| backpack_hotel_photo              |<br />
<br />
| backpack_hotel_room               |<br />
<br />
| backpack_hotel_room_plan          |<br />
<br />
| backpack_hotel_taocan             |<br />
<br />
| backpack_hotel_type               |<br />
<br />
| backpack_hotel_type_relate        |<br />
<br />
| backpack_online_order             |<br />
<br />
| backpack_room_agency_relation     |<br />
<br />
| backpack_room_relation_plan       |<br />
<br />
| bank                              |<br />
<br />
| bank_act                          |<br />
<br />
| bank_note                         |<br />
<br />
| book_city                         |<br />
<br />
| book_email                        |<br />
<br />
| bot_visit_log                     |<br />
<br />
| bus_cat                           |<br />
<br />
| bus_company                       |<br />
<br />
| bus_line                          |<br />
<br />
| bus_line_part                     |<br />
<br />
| bus_station                       |<br />
<br />
| bus_station_cat                   |<br />
<br />
| calllog                           |<br />
<br />
| campaign                          |<br />
<br />
| campaign_balance                  |<br />
<br />
| campaign_click_record             |<br />
<br />
| campaign_pay_record               |<br />
<br />
| campaign_record                   |<br />
<br />
| cat_destination_relate            |<br />
<br />
| cat_group_hotel                   |<br />
<br />
| cat_groups                        |<br />
<br />
| cat_hot_route                     |<br />
<br />
| cat_routes_change                 |<br />
<br />
| cat_tag                           |<br />
<br />
| channel_keyword                   |<br />
<br />
| channel_visit_data                |<br />
<br />
| channel_visit_log                 |<br />
<br />
| channels                          |<br />
<br />
| charge_area                       |<br />
<br />
| checi                             |<br />
<br />
| checi_bak                         |<br />
<br />
| christmas_click                   |<br />
<br />
| christmas_contact                 |<br />
<br />
| christmas_gift                    |<br />
<br />
| city_info                         |<br />
<br />
| city_station                      |<br />
<br />
| city_station_bak                  |<br />
<br />
| cmb_pay                           |<br />
<br />
| comment_photos                    |<br />
<br />
| comment_robot                     |<br />
<br />
| comments_ask                      |<br />
<br />
| comments_diss                     |<br />
<br />
| comments_group                    |<br />
<br />
| comments_place                    |<br />
<br />
| comments_platter                  |<br />
<br />
| comments_route                    |<br />
<br />
| comments_route_agency             |<br />
<br />
| comments_user_photo               |<br />
<br />
| company_demand                    |<br />
<br />
| company_tour                      |<br />
<br />
| company_travel_schedule           |<br />
<br />
| conf                              |<br />
<br />
| confirm_start_notice_email        |<br />
<br />
| contract_down_load                |<br />
<br />
| contracts                         |<br />
<br />
| coupon                            |<br />
<br />
| coupon_detail                     |<br />
<br />
| coupon_log                        |<br />
<br />
| coupon_total_ip                   |<br />
<br />
| coupon_total_ip_all               |<br />
<br />
| crm_bug                           |<br />
<br />
| crm_email                         |<br />
<br />
| crm_file                          |<br />
<br />
| crm_finance_invoice               |<br />
<br />
| crm_insure_tourist                |<br />
<br />
| crm_news                          |<br />
<br />
| crm_rule                          |<br />
<br />
| crm_saler_profit_log              |<br />
<br />
| crontab_sql                       |<br />
<br />
| crontab_task                      |<br />
<br />
| crontab_time                      |<br />
<br />
| cvs                               |<br />
<br />
| dali_vote                         |<br />
<br />
| database_info                     |<br />
<br />
| database_info_detail              |<br />
<br />
| date_online                       |<br />
<br />
| departure                         |<br />
<br />
| destination                       |<br />
<br />
| destination_cat                   |<br />
<br />
| destination_cat_bak               |<br />
<br />
| destination_cat_parent            |<br />
<br />
| destination_price_statistic       |<br />
<br />
| diss                              |<br />
<br />
| diss_vote                         |<br />
<br />
| ditie_route                       |<br />
<br />
| ditie_station                     |<br />
<br />
| ditie_station_line                |<br />
<br />
| domes_gr_order_extra              |<br />
<br />
| drequest                          |<br />
<br />
| dujia_mudidi                      |<br />
<br />
| dujia_mudidi_cat                  |<br />
<br />
| duser                             |<br />
<br />
| emotions                          |<br />
<br />
| eticket                           |<br />
<br />
| eticket_batch                     |<br />
<br />
| eticket_config                    |<br />
<br />
| eticket_express_list              |<br />
<br />
| eticket_express_price             |<br />
<br />
| eticket_name_config               |<br />
<br />
| eticket_price                     |<br />
<br />
| eticket_price_config              |<br />
<br />
| eticket_relate_route              |<br />
<br />
| favorites_photo                   |<br />
<br />
| finance_ips_pay_log               |<br />
<br />
| finance_kuaiqian_pay_apply_log    |<br />
<br />
| finance_kuaiqian_pay_log          |<br />
<br />
| flight_class_info                 |<br />
<br />
| flight_info                       |<br />
<br />
| flight_letter                     |<br />
<br />
| fmis_invoice                      |<br />
<br />
| fmis_invoice_apply                |<br />
<br />
| fmis_invoice_no                   |<br />
<br />
| fmis_online_bank                  |<br />
<br />
| fmis_online_bank_card             |<br />
<br />
| friends                           |<br />
<br />
| global_log                        |<br />
<br />
| group_code                        |<br />
<br />
| group_code_parsed                 |<br />
<br />
| group_code_temp                   |<br />
<br />
| group_keywords                    |<br />
<br />
| group_purchase_city_notice        |<br />
<br />
| group_purchase_product_routes     |<br />
<br />
| group_purchase_right_column       |<br />
<br />
| group_purchase_subscribe          |<br />
<br />
| group_sort                        |<br />
<br />
| group_visit_history               |<br />
<br />
| groups                            |<br />
<br />
| heartbeat                         |<br />
<br />
| history                           |<br />
<br />
| holiday_comment                   |<br />
<br />
| holiday_place                     |<br />
<br />
| holiday_place_config              |<br />
<br />
| holiday_place_photo               |<br />
<br />
| holiday_place_recommend           |<br />
<br />
| holiday_place_relate              |<br />
<br />
| hot_route                         |<br />
<br />
| hot_route_new                     |<br />
<br />
| hotel                             |<br />
<br />
| hotel_area                        |<br />
<br />
| hotel_flight_position             |<br />
<br />
| hotel_order                       |<br />
<br />
| hotel_plan                        |<br />
<br />
| hotel_relation                    |<br />
<br />
| hotel_room                        |<br />
<br />
| hotel_room_price                  |<br />
<br />
| hotel_room_relation               |<br />
<br />
| hotel_route_relation              |<br />
<br />
| index_core_route                  |<br />
<br />
| index_manage                      |<br />
<br />
| index_manage_parsed               |<br />
<br />
| index_order_email                 |<br />
<br />
| index_view_num                    |<br />
<br />
| insurance_temp                    |<br />
<br />
| invoice_tmp                       |<br />
<br />
| ip_address                        |<br />
<br />
| ip_address2                       |<br />
<br />
| ip_address2_old                   |<br />
<br />
| ip_area                           |<br />
<br />
| ip_log                            |<br />
<br />
| ips_pay_log                       |<br />
<br />
| jdv2_comment                      |<br />
<br />
| jdv2_comment_check                |<br />
<br />
| jdv2_comment_data                 |<br />
<br />
| labor_activity                    |<br />
<br />
| labor_invite_friend               |<br />
<br />
| labor_prize                       |<br />
<br />
| labor_prize_list                  |<br />
<br />
| labor_qtmbb_prize                 |<br />
<br />
| links                             |<br />
<br />
| logs_baixingapi                   |<br />
<br />
| long_bus_area                     |<br />
<br />
| long_bus_cat                      |<br />
<br />
| long_bus_cat_detail               |<br />
<br />
| long_bus_line                     |<br />
<br />
| long_bus_station                  |<br />
<br />
| maps                              |<br />
<br />
| messages                          |<br />
<br />
| messages_in                       |<br />
<br />
| messages_out                      |<br />
<br />
| messages_out_email                |<br />
<br />
| metro_comment                     |<br />
<br />
| mobile                            |<br />
<br />
| mobile_old                        |<br />
<br />
| nation                            |<br />
<br />
| nationality                       |<br />
<br />
| net_address_template              |<br />
<br />
| net_order                         |<br />
<br />
| net_order_address                 |<br />
<br />
| net_order_pay_log                 |<br />
<br />
| net_order_shop                    |<br />
<br />
| net_order_shop_log                |<br />
<br />
| net_to_crm_pay_log                |<br />
<br />
| news                              |<br />
<br />
| news_place                        |<br />
<br />
| notes                             |<br />
<br />
| online_confirm_file               |<br />
<br />
| online_pay_visit_log              |<br />
<br />
| operator_area                     |<br />
<br />
| order_backpack_union              |<br />
<br />
| order_complaint                   |<br />
<br />
| order_email                       |<br />
<br />
| order_etickets                    |<br />
<br />
| order_etickets_batch              |<br />
<br />
| order_etickets_customer           |<br />
<br />
| order_etickets_status             |<br />
<br />
| order_flights                     |<br />
<br />
| order_holiday                     |<br />
<br />
| order_hotel                       |<br />
<br />
| order_insure                      |<br />
<br />
| order_online_sign                 |<br />
<br />
| order_position                    |<br />
<br />
| order_promotion_event             |<br />
<br />
| order_recall                      |<br />
<br />
| order_recall_2                    |<br />
<br />
| order_save_tmp                    |<br />
<br />
| order_sign_choose                 |<br />
<br />
| order_status_history              |<br />
<br />
| order_step                        |<br />
<br />
| order_ticket                      |<br />
<br />
| order_travel_person_num_7days     |<br />
<br />
| order_weiyi_cid                   |<br />
<br />
| other_tours                       |<br />
<br />
| other_tours_plan                  |<br />
<br />
| p_agency                          |<br />
<br />
| p_air_type                        |<br />
<br />
| p_air_type_photo                  |<br />
<br />
| p_airport                         |<br />
<br />
| p_cabin                           |<br />
<br />
| p_cabin_plan                      |<br />
<br />
| p_flight                          |<br />
<br />
| p_ticket                          |<br />
<br />
| p_ticket_agency_relation          |<br />
<br />
| p_ticket_area                     |<br />
<br />
| p_ticket_cabin                    |<br />
<br />
| p_ticket_cat                      |<br />
<br />
| p_ticket_plan                     |<br />
<br />
| p_ticket_relation_plan            |<br />
<br />
| package_10_20_mapping             |<br />
<br />
| package_cat                       |<br />
<br />
| package_hotel_tmp                 |<br />
<br />
| package_info                      |<br />
<br />
| package_new                       |<br />
<br />
| package_roominfo_tmp              |<br />
<br />
| package_union                     |<br />
<br />
| package_union_child               |<br />
<br />
| package_union_plan                |<br />
<br />
| package_union_total               |<br />
<br />
| packages                          |<br />
<br />
| packages_detail                   |<br />
<br />
| packages_hotel                    |<br />
<br />
| packages_insure                   |<br />
<br />
| packages_plan                     |<br />
<br />
| packages_product                  |<br />
<br />
| packages_schedule                 |<br />
<br />
| partner_adv_doc                   |<br />
<br />
| partner_adv_flash                 |<br />
<br />
| partner_adv_pic                   |<br />
<br />
| partner_coupon_exchange           |<br />
<br />
| partner_homepage_manage           |<br />
<br />
| partner_new_adv_doc               |<br />
<br />
| partner_new_adv_doc_cat           |<br />
<br />
| partner_new_adv_pic               |<br />
<br />
| partner_new_answer                |<br />
<br />
| partner_new_ask                   |<br />
<br />
| partner_new_check_email           |<br />
<br />
| partner_new_commision             |<br />
<br />
| partner_new_letter                |<br />
<br />
| partner_new_letter_file           |<br />
<br />
| partner_new_pay                   |<br />
<br />
| partner_new_pay_order             |<br />
<br />
| partner_new_photo                 |<br />
<br />
| partner_new_pic_adv_photo         |<br />
<br />
| partner_pay                       |<br />
<br />
| partner_reg                       |<br />
<br />
| partners                          |<br />
<br />
| partners_new                      |<br />
<br />
| passage_cat                       |<br />
<br />
| passage_kind                      |<br />
<br />
| passage_list                      |<br />
<br />
| passage_photo                     |<br />
<br />
| passage_top                       |<br />
<br />
| passages                          |<br />
<br />
| phone_code                        |<br />
<br />
| photos_diss                       |<br />
<br />
| photos_flickr                     |<br />
<br />
| place_area                        |<br />
<br />
| place_books                       |<br />
<br />
| place_description                 |<br />
<br />
| place_everyday                    |<br />
<br />
| place_judge                       |<br />
<br />
| place_location                    |<br />
<br />
| place_price                       |<br />
<br />
| place_sort                        |<br />
<br />
| place_visit_history               |<br />
<br />
| place_visit_history_200904        |<br />
<br />
| place_visit_history_200905        |<br />
<br />
| place_visit_history_200906        |<br />
<br />
| place_vote_log                    |<br />
<br />
| place_vote_name                   |<br />
<br />
| places                            |<br />
<br />
| planedata                         |<br />
<br />
| planedata_desc                    |<br />
<br />
| platters                          |<br />
<br />
| platters_place                    |<br />
<br />
| platters_tag                      |<br />
<br />
| platters_vote                     |<br />
<br />
| post_robot                        |<br />
<br />
| posts_blog                        |<br />
<br />
| posts_group                       |<br />
<br />
| posts_group_category              |<br />
<br />
| posts_place                       |<br />
<br />
| pre_sh5year_list                  |<br />
<br />
| price_order                       |<br />
<br />
| price_order_cat                   |<br />
<br />
| product_act                       |<br />
<br />
| product_cat_relate                |<br />
<br />
| product_comment                   |<br />
<br />
| promotion_product                 |<br />
<br />
| promotion_route_info              |<br />
<br />
| province_city                     |<br />
<br />
| rates                             |<br />
<br />
| refers                            |<br />
<br />
| relate_link                       |<br />
<br />
| route_agency_relation             |<br />
<br />
| route_cat_tag                     |<br />
<br />
| route_comment_photos              |<br />
<br />
| route_destination                 |<br />
<br />
| route_destination_tag             |<br />
<br />
| route_file                        |<br />
<br />
| route_join_group                  |<br />
<br />
| route_notice                      |<br />
<br />
| route_place                       |<br />
<br />
| route_place_agency                |<br />
<br />
| route_play_type                   |<br />
<br />
| route_position                    |<br />
<br />
| route_position_group              |<br />
<br />
| route_relate_ticket               |<br />
<br />
| route_schedule                    |<br />
<br />
| route_special_area                |<br />
<br />
| route_special_manage              |<br />
<br />
| route_submit_error                |<br />
<br />
| route_tag_related_destination     |<br />
<br />
| route_theme_relate                |<br />
<br />
| route_visit_history               |<br />
<br />
| routes                            |<br />
<br />
| routes_agency                     |<br />
<br />
| routes_agency_addition            |<br />
<br />
| routes_agency_detail              |<br />
<br />
| routes_agency_from_external       |<br />
<br />
| routes_agency_log                 |<br />
<br />
| routes_agency_plan                |<br />
<br />
| routes_agency_search              |<br />
<br />
| routes_agency_theme_cat           |<br />
<br />
| routes_agency_view_log            |<br />
<br />
| routes_cat                        |<br />
<br />
| routes_coupon                     |<br />
<br />
| routes_depart                     |<br />
<br />
| routes_insure                     |<br />
<br />
| routes_order                      |<br />
<br />
| routes_plan                       |<br />
<br />
| routes_product                    |<br />
<br />
| routes_scheme                     |<br />
<br />
| routes_scheme_plan                |<br />
<br />
| routes_theme                      |<br />
<br />
| routes_union                      |<br />
<br />
| routes_vote                       |<br />
<br />
| salers                            |<br />
<br />
| salers_change                     |<br />
<br />
| sales_index                       |<br />
<br />
| schedule_attraction               |<br />
<br />
| schedule_shop                     |<br />
<br />
| schedules                         |<br />
<br />
| schedules_agency                  |<br />
<br />
| script_task                       |<br />
<br />
| search_record                     |<br />
<br />
| search_sum_history                |<br />
<br />
| seatprice                         |<br />
<br />
| send_etickets_record              |<br />
<br />
| shop_info                         |<br />
<br />
| shz_prize                         |<br />
<br />
| shz_prize_list                    |<br />
<br />
| site_classification               |<br />
<br />
| site_classification_other_info    |<br />
<br />
| site_classification_status_info   |<br />
<br />
| site_classification_tkd           |<br />
<br />
| site_classification_tkd_templates |<br />
<br />
| site_group_code                   |<br />
<br />
| sorts                             |<br />
<br />
| special                           |<br />
<br />
| special_place                     |<br />
<br />
| special_post                      |<br />
<br />
| special_route                     |<br />
<br />
| sql_count                         |<br />
<br />
| station                           |<br />
<br />
| station_bak                       |<br />
<br />
| stats_robot                       |<br />
<br />
| sub_company_info                  |<br />
<br />
| sub_sites                         |<br />
<br />
| sub_sites_links                   |<br />
<br />
| surcharge                         |<br />
<br />
| survey                            |<br />
<br />
| survey_answer                     |<br />
<br />
| survey_m                          |<br />
<br />
| system_code                       |<br />
<br />
| tags_photo                        |<br />
<br />
| tags_route                        |<br />
<br />
| taobao_route_map                  |<br />
<br />
| td_c_membcard_type                |<br />
<br />
| team_price_detail                 |<br />
<br />
| team_price_general                |<br />
<br />
| team_refer_price                  |<br />
<br />
| temp_channel                      |<br />
<br />
| tf_c_cust_sysexten                |<br />
<br />
| tf_c_cust_userexten               |<br />
<br />
| tf_c_membship                     |<br />
<br />
| tf_c_other_reg                    |<br />
<br />
| tf_c_signoff_log                  |<br />
<br />
| ticket_base                       |<br />
<br />
| ticket_destinations               |<br />
<br />
| ticket_homepage_manage            |<br />
<br />
| ticket_info                       |<br />
<br />
| ticket_order                      |<br />
<br />
| ticket_order_detail               |<br />
<br />
| ticket_photo                      |<br />
<br />
| ticket_place_lable                |<br />
<br />
| ticket_send                       |<br />
<br />
| tips                              |<br />
<br />
| tkt_info                          |<br />
<br />
| tkt_scenic                        |<br />
<br />
| tkt_scenic_photos                 |<br />
<br />
| tn_cat                            |<br />
<br />
| tn_cat_change                     |<br />
<br />
| tn_cat_city                       |<br />
<br />
| tn_routes_pos                     |<br />
<br />
| tour_area_desc                    |<br />
<br />
| tour_plan                         |<br />
<br />
| tourist                           |<br />
<br />
| tourist_hotel                     |<br />
<br />
| tourist_order                     |<br />
<br />
| tourist_order_status              |<br />
<br />
| tourist_plan                      |<br />
<br />
| tourist_record                    |<br />
<br />
| tourist_template                  |<br />
<br />
| tourist_ticket                    |<br />
<br />
| trace_log                         |<br />
<br />
| train_lines                       |<br />
<br />
| train_lines_part                  |<br />
<br />
| train_stations                    |<br />
<br />
| transfer_data                     |<br />
<br />
| transfer_log                      |<br />
<br />
| transfer_zt                       |<br />
<br />
| travel_coupon                     |<br />
<br />
| travel_coupon_use                 |<br />
<br />
| travel_info                       |<br />
<br />
| travel_info_detail                |<br />
<br />
| upload_file                       |<br />
<br />
| upttdata_log                      |<br />
<br />
| user_account                      |<br />
<br />
| user_account_log                  |<br />
<br />
| user_admin                        |<br />
<br />
| user_admin_log                    |<br />
<br />
| user_coin_log                     |<br />
<br />
| user_consume                      |<br />
<br />
| user_coupon                       |<br />
<br />
| user_coupon_log                   |<br />
<br />
| user_credit_card                  |<br />
<br />
| user_finance_get_motopay          |<br />
<br />
| user_group                        |<br />
<br />
| user_invitation                   |<br />
<br />
| user_invite                       |<br />
<br />
| user_niuren_uid                   |<br />
<br />
| user_niuren_uid_ip                |<br />
<br />
| user_online                       |<br />
<br />
| user_order                        |<br />
<br />
| user_order_agreement              |<br />
<br />
| user_order_extra                  |<br />
<br />
| user_order_flight                 |<br />
<br />
| user_order_hotel                  |<br />
<br />
| user_order_insurance              |<br />
<br />
| user_order_other                  |<br />
<br />
| user_order_pay                    |<br />
<br />
| user_order_pay_log                |<br />
<br />
| user_partner                      |<br />
<br />
| user_photo                        |<br />
<br />
| user_place                        |<br />
<br />
| user_place_visit_history          |<br />
<br />
| user_report_error                 |<br />
<br />
| user_route                        |<br />
<br />
| user_route_visit_history          |<br />
<br />
| user_tenpay_log                   |<br />
<br />
| user_web_order_pay                |<br />
<br />
| userlist                          |<br />
<br />
| users                             |<br />
<br />
| videos_place                      |<br />
<br />
| visa                              |<br />
<br />
| visa_content                      |<br />
<br />
| visa_email                        |<br />
<br />
| visa_file                         |<br />
<br />
| visa_particular                   |<br />
<br />
| visit_cat                         |<br />
<br />
| visitor                           |<br />
<br />
| visitor1                          |<br />
<br />
| vote_group                        |<br />
<br />
| vote_group_log                    |<br />
<br />
| weather                           |<br />
<br />
| weather_cat                       |<br />
<br />
| weather_city_code                 |<br />
<br />
| weather_detail                    |<br />
<br />
| weather_icon                      |<br />
<br />
| weather_infos                     |<br />
<br />
| weatherinfo_2011                  |<br />
<br />
| weatherinfo_2012                  |<br />
<br />
| weatherinfo_2013                  |<br />
<br />
| weatherinfo_2014                  |<br />
<br />
| weatherinfo_2015                  |<br />
<br />
| weatherinfo_2016                  |<br />
<br />
| weatherinfo_2017                  |<br />
<br />
| weatherinfo_2018                  |<br />
<br />
| weatherinfo_2019                  |<br />
<br />
| weatherinfo_2020                  |<br />
<br />
| web_model_res                     |<br />
<br />
| wiki                              |<br />
<br />
| wiki_entry                        |<br />
<br />
| wiki_refer                        |<br />
<br />
| wiki_tag                          |<br />
<br />
| youlun_recommend                  |<br />
<br />
+-----------------------------------+<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
 </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">程序员自己修复吧 我只负责报告漏洞<br />
<br />
by H4ckx7 </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/Hackx7" title="Hackx7">Hackx7</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-013504" title="途牛旅行网SQL注入漏洞可导致百万用户信息安全受威胁">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
															<h3 class="detailTitle">厂商回应：</h3>
						<p class="detail">危害等级：高</p>
						<p class="detail">漏洞Rank：10 </p>
													<p class="detail">确认时间：2012-10-19 15:10</p>
												<h3 class="detailTitle">厂商回复：</h3>				
						<p class="detail">感谢Hackx7@乌云, 我们尽快修复</p>
					

					
					
					<h3 class="detailTitle">最新状态：</h3>

																	<p class="detail">2012-10-19：已经修复 感谢</p>
											

							
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="13504";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
