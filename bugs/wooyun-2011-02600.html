<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		17173整站源码泄露  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		17173整站源码泄露  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/路人甲">路人甲</a> 
</li><li>提交时间：		2011-07-31 19:19</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2011-07-31：	细节已通知厂商并且等待厂商处理中<br/>
									2011-08-05：	厂商已经主动忽略漏洞，细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">17173分站由于配置不当，导致源码泄露，包括数据库账号密码</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail"></p><p class="detail"><a href="../images/31191817136e003278a2a0ecd3117bc8be73ecc8.jpg" target="_blank"><img src="../images/31191817136e003278a2a0ecd3117bc8be73ecc8.jpg" alt="" width="600"/></a></p><p class="detail"> </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail"></p><pre><code>&lt;?php<br />
	include_once(&quot;../include/config.php&quot;);<br />
	include_once(&quot;../include/db.php&quot;);<br />
	include_once(&quot;inc.php&quot;);<br />
?&gt;<br />
&lt;?php<br />
	//读取指定数据<br />
	$str 	  = filter($_REQUEST[&quot;str&quot;]);<br />
	$classStr = filter($_REQUEST[&quot;classStr&quot;]);<br />
<br />
	if(!empty($classStr)){<br />
		$classStr = substr($classStr,0,-1);<br />
		$classStr = split(&quot;,&quot;,$classStr);<br />
	}<br />
<br />
	if (!is_array($classStr)) {<br />
		$classStr = array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);<br />
	}<br />
<br />
	$conn = new MyAdodb($DbHost,$DbName,$DbUser,$DbPwd);<br />
	$conn-&gt;OpenDB();<br />
<br />
?&gt;<br />
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;<br />
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;<br />
&lt;head&gt;<br />
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=gb2312&quot; /&gt;<br />
&lt;title&gt;17173·天龙八部数据库&lt;/title&gt;<br />
&lt;link href=&quot;css/master.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;<br />
&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot; src=&quot;js/ajax.js&quot;&gt;&lt;/SCRIPT&gt;<br />
&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot; src=&quot;js/tkl_pagelist.js&quot;&gt;&lt;/SCRIPT&gt;<br />
&lt;script type=&quot;text/javascript&quot;&gt;<br />
 function addBookmark(title,url) {<br />
        if( document.all ) {<br />
            window.external.AddFavorite( url, title);<br />
        } else if (window.sidebar) {<br />
            window.sidebar.addPanel(title, url,&quot;&quot;);<br />
        } else if( window.opera &amp;&amp; window.print ) {<br />
            return true;<br />
        }<br />
}<br />
function setValue(){<br />
<br />
	Obj = getObject(&quot;a&quot;);<br />
	var i = 0;<br />
	var strValue = &quot;&quot;;<br />
	for(var j = 0;j &lt; Obj.length; j++){<br />
		//alert(j+&quot;|&quot;+Obj[j].value+&quot;|&quot;+Obj[j].checked);<br />
		if(true == Obj[j].checked ){<br />
			i++;<br />
			strValue += Obj[j].value+&quot;,&quot;;<br />
		}<br />
	}<br />
<br />
	if (i &lt; 1) {<br />
		alert(&quot;请选择搜索分类！&quot;);<br />
		return false;<br />
	}<br />
<br />
	document.form1.classStr.value = strValue;<br />
	//alert(Obj.length+&quot;|&quot;+strValue);<br />
}<br />
<br />
/**检查表单**/<br />
function checkForm(){<br />
	setValue();<br />
	Obj = document.form1;<br />
	if (Obj.str.value.length &lt; 2){<br />
		alert(&quot;请输入2位以上的关键字！&quot;);<br />
		Obj.str.focus();<br />
		return false;<br />
	}<br />
<br />
}<br />
<br />
//设置指定id的选项<br />
function SetCheckBox(str){<br />
	var tempStr,reg;<br />
	var ObjectField_1 = getObject(&quot;a&quot;);<br />
	var i=0,len;<br />
<br />
	len = ObjectField_1.length;<br />
  if (len == null) {<br />
    	len=1;<br />
  }<br />
<br />
  if (len == 1){<br />
    	reg = eval(&quot;/,&quot;+ObjectField_1.value+&quot;,/g&quot;);<br />
    	tempStr = str.replace(reg,&quot;&quot;);<br />
    	if (tempStr.length &lt; str.length) {<br />
    		ObjectField_1.checked = true;<br />
    	}<br />
   }else{<br />
<br />
	  for ( j = 0; j &lt; len; j++){<br />
	    	reg = eval(&quot;/,&quot;+ObjectField_1[j].value+&quot;,/g&quot;);<br />
    		tempStr = str.replace(reg,&quot;&quot;);<br />
<br />
    		if (tempStr.length &lt; str.length) {<br />
	    		ObjectField_1[j].checked = true;<br />
				}<br />
		}<br />
	}<br />
}<br />
<br />
//读取对像<br />
function getObject(objectId) {<br />
   if (document.all &amp;&amp; document.all(objectId)) {<br />
 			return document.all(objectId);<br />
   }else if(document.getElementById &amp;&amp; document.getElementById(objectId)) {<br />
 			return document.getElementById(objectId);<br />
   }else if(document.getElementsByName &amp;&amp; document.getElementsByName(objectId)) {<br />
 			return document.getElementsByName(objectId);<br />
   }else {<br />
 			return false;<br />
   }<br />
}<br />
&lt;/script&gt;<br />
&lt;/head&gt;<br />
&lt;body&gt;<br />
&lt;div id=&quot;wrapper&quot;&gt;<br />
  &lt;div id=&quot;wrapperLeft&quot;&gt;<br />
    &lt;div id=&quot;innerWrapperLeft&quot;&gt;<br />
      &lt;div id=&quot;panelSearch&quot;&gt;<br />
        &lt;div id=&quot;panelSearchTop&quot;&gt;&lt;?php include(&quot;header.html&quot;); ?&gt;&lt;/div&gt;<br />
        &lt;div id=&quot;panelSearchContent&quot;&gt;<br />
        &lt;table width=&quot;95%&quot; border=&quot;0&quot; align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;<br />
         &lt;form name=&quot;form1&quot; method=&quot;get&quot; action=&quot;search.php&quot; onsubmit=&quot;return checkForm();&quot;&gt;<br />
          &lt;tr&gt;<br />
            &lt;td align=&quot;center&quot;&gt;<br />
              综合搜索：<br />
                &lt;input name=&quot;str&quot; type=&quot;text&quot; id=&quot;str&quot; style=&quot;width:200px;&quot; value=&quot;&quot;/&gt;<br />
                &lt;input type=&quot;hidden&quot; value=&quot;&quot; name=&quot;classStr&quot;&gt;<br />
                &lt;input type=&quot;image&quot; name=&quot;imageField&quot; id=&quot;imageField&quot;src=&quot;http://ue1.17173.itc.cn/tldb/sousuo.jpg&quot; style=&quot;width:49px; height:20px; border:none;&quot;/&gt;<br />
            &lt;/td&gt;<br />
          &lt;/tr&gt;<br />
          &lt;tr&gt;<br />
              &lt;td style=&quot;padding-bottom:10px; text-align:center;&quot;&gt;<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;1&quot; checked  style=&quot;width: 20px;&quot;/&gt; 装备<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;2&quot; checked style=&quot;width: 20px;&quot;/&gt; 套装<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;3&quot; checked style=&quot;width: 20px;&quot;/&gt; 珍兽<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;4&quot; checked style=&quot;width: 20px;&quot;/&gt; 技能<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;5&quot; checked style=&quot;width: 20px;&quot;/&gt; 元宝<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;6&quot; checked style=&quot;width: 20px;&quot;/&gt; 任务<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;7&quot; checked style=&quot;width: 20px;&quot;/&gt; 地图<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;8&quot; checked style=&quot;width: 20px;&quot;/&gt; 怪物<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;9&quot; checked style=&quot;width: 20px;&quot;/&gt; NPC<br />
                &lt;input type=&quot;checkbox&quot; name=&quot;a&quot; value=&quot;10&quot; checked style=&quot;width: 20px;&quot;/&gt; 物品<br />
              &lt;/td&gt;<br />
			&lt;/tr&gt;<br />
          &lt;/form&gt;<br />
        &lt;/table&gt;<br />
        &lt;/div&gt;<br />
        &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;<br />
      &lt;/div&gt;<br />
      &lt;?php if(!empty($classStr)){?&gt;<br />
      &lt;div id=&quot;dh&quot;&gt;<br />
      &lt;?php<br />
	  for ($j = 0; $j &lt; count($classStr); $j++){<br />
	  	$a = $classStr[$j];<br />
		switch($a){<br />
				case 1:<br />
					$ItemClass = &quot;&amp;nbsp;装备&amp;nbsp;&quot;;<br />
					break;<br />
				case 2:<br />
					$ItemClass = &quot;&amp;nbsp;套装&amp;nbsp;&quot;;<br />
					break;<br />
				case 3:<br />
					$ItemClass = &quot;&amp;nbsp;珍兽&amp;nbsp;&quot;;<br />
					break;<br />
				case 4:<br />
					$ItemClass = &quot;&amp;nbsp;技能&amp;nbsp;&quot;;<br />
					break;<br />
				case 5:<br />
					$ItemClass = &quot;&amp;nbsp;元宝&amp;nbsp;&quot;;<br />
					break;<br />
				case 6:<br />
					$ItemClass = &quot;&amp;nbsp;任务&amp;nbsp;&quot;;<br />
					break;<br />
				case 7:<br />
					$ItemClass = &quot;&amp;nbsp;地图&amp;nbsp;&quot;;<br />
					break;<br />
				case 8:<br />
					$ItemClass = &quot;&amp;nbsp;怪物&amp;nbsp;&quot;;<br />
					break;<br />
				case 9:<br />
					$ItemClass = &quot;&amp;nbsp;NPC&amp;nbsp;&quot;;<br />
					break;<br />
				case 10:<br />
					$ItemClass = &quot;&amp;nbsp;物品&amp;nbsp;&quot;;<br />
					break;<br />
		}<br />
	  ?&gt;<br />
      &lt;div id=&quot;content&lt;?=$j+1?&gt;&quot;&gt;&lt;?=$ItemClass?&gt;&lt;/div&gt;<br />
      &lt;?php } ?&gt;<br />
      &lt;/div&gt;<br />
	  &lt;?php<br />
		for ($j = 0; $j &lt; count($classStr); $j++){<br />
			$a = $classStr[$j];<br />
<br />
			switch($a){<br />
				case 1:<br />
					$table = &quot;tl_eqiupment&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039; group by ItemName&quot;;<br />
					break;<br />
				case 2:<br />
					$table = &quot;tl_taozhuang&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 3:<br />
					$table = &quot;tl_bb&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 4:<br />
					$table = &quot;tl_skill&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 5:<br />
					$table = &quot;tl_yuanbao&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 6:<br />
					$table = &quot;tl_questinfo&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039; group by ItemName&quot;;<br />
					break;<br />
				case 7:<br />
					$table = &quot;tl_map&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 8:<br />
					$table = &quot;tl_monster&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 9:<br />
					$table = &quot;tl_npc&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				case 10:<br />
					$table = &quot;tl_things&quot;;<br />
					$sqlWhere = &quot; where ItemName like BINARY &#039;%&quot;.$str.&quot;%&#039;&quot;;<br />
					break;<br />
				default:<br />
					$table = &quot;&quot;;<br />
			}<br />
<br />
			$sqlStr = &quot;select * from &quot;.$table.$sqlWhere.&quot; limit 0,20&quot;;<br />
			$rs = $conn-&gt;ReadDB($sqlStr);<br />
		?&gt;<br />
        &lt;div id=&quot;ccontent&lt;?=$j+1?&gt;&quot;&gt;<br />
        &lt;div class=&quot;panelRevelation&quot;&gt;<br />
        &lt;div id=&quot;panelRevelationTop&quot;&gt;<br />
          &lt;div class=&quot;p12 cWhite current&quot;&gt;显示前 &lt;?=count($rs)?&gt; 条记录&lt;/div&gt;<br />
          &lt;div class=&quot;p12 cWhite pagination&quot;&gt;&lt;/div&gt;<br />
        &lt;/div&gt;<br />
        &lt;div id=&quot;panelRevelationList&quot;&gt;<br />
          &lt;div id=&quot;innerPanelRevelationList&quot;&gt;<br />
        &lt;?php if($a == 1){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col13&quot;&gt;【装备名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col16&quot;&gt;【装备种类】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【装备类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【外功】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【内功】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【外防】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【内防】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【命中】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【闪避】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;arm.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=$rs[$i][&#039;FileName&#039;]?&gt;.jpg&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,1,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col13&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,1,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;arm.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col16&quot;&gt;&lt;a href=&quot;arms.php?ClassType=&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;arms.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;a href=&quot;arms.php?MinLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&amp;MaxLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$rs[$i][&#039;OATK&#039;]&gt;0?$rs[$i][&#039;OATK&#039;]:0?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$rs[$i][&#039;IATK&#039;]&gt;0?$rs[$i][&#039;IATK&#039;]:0?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$rs[$i][&#039;ODEF&#039;]&gt;0?$rs[$i][&#039;ODEF&#039;]:0?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$rs[$i][&#039;IDEF&#039;]&gt;0?$rs[$i][&#039;IDEF&#039;]:0?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$rs[$i][&#039;Hit&#039;]&gt;0?$rs[$i][&#039;Hit&#039;]:0?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;?=$RS[$i][&#039;Avoid&#039;]&gt;0?$RS[$i][&#039;Avoid&#039;]:0?&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 2){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【套装名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【套装类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colFour&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colFour&quot;&gt;【件数】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEleven&quot;&gt;【附加属性】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,2,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;suit.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;suits.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colFour&quot;&gt;&lt;a href=&quot;suits.php?MinLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&amp;MaxLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colFour&quot;&gt;&lt;a href=&quot;suits.php?Nums=&lt;?=$rs[$i][&#039;Nums&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Nums&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colEleven&quot;&gt;&lt;?=$rs[$i][&#039;AdditionalEffects&#039;]?&gt;&lt;/div&gt;<br />
              &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 3){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【珍兽名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【战斗类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colThree&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【食物类别】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【标准寿命】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colSix&quot;&gt;【自带技能】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;baby.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=getImage($rs[$i][&#039;FileName&#039;])?&gt;.jpg&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,3,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,3,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;baby.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;babys.php?Fight=&lt;?=$rs[$i][&#039;Fight&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Fight&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colThree&quot;&gt;&lt;a href=&quot;babys.php?Lv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;babys.php?Food=&lt;?=$rs[$i][&#039;Food&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Food&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;babys.php?Age=&lt;?=$rs[$i][&#039;Age&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Age&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colSix&quot;&gt;&lt;?=getSkillNameById($rs[$i][&#039;SkillID1&#039;])?&gt;&lt;?=getSkillNameById($rs[$i][&#039;SkillID2&#039;])?&gt;&lt;?=getSkillNameById($rs[$i][&#039;SkillID3&#039;])?&gt;&lt;?=getSkillNameById($rs[$i][&#039;SkillID4&#039;])?&gt;&lt;?=getSkillNameById($rs[$i][&#039;SkillID5&#039;])?&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 4){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【技能名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【技能分类】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【技能类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTen&quot;&gt;【学习要求】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col14&quot;&gt;【冷却时间】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;skill.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=$rs[$i][&#039;FileName&#039;]?&gt;.jpg&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,4,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,4,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;skill.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;skills.php?ClassType=&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;skills.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTen&quot;&gt;&lt;?=$rs[$i][&#039;Condition&#039;]?$rs[$i][&#039;Condition&#039;]:&quot;&amp;nbsp;&quot;?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col14&quot;&gt;<br />
              &lt;?php<br />
			  	if($rs[$i][&#039;ClassType&#039;]==&#039;门派战斗技能&#039;){<br />
					echo $rs[$i][&#039;CoolTime&#039;]?$rs[$i][&#039;CoolTime&#039;].&quot;秒&quot;:&quot;瞬发&quot;;<br />
					echo strpos($rs[$i][&#039;CoolTime&#039;],&#039;-&#039;)?&quot;（随心法等级提高而减少）&quot;:&quot;&quot;;<br />
				}<br />
				else<br />
					echo &quot;&amp;nbsp;&quot;;<br />
			  ?&gt;<br />
              &lt;/div&gt;<br />
              &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 5){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEight&quot;&gt;【物品名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【物品类别】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colFour&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【使用等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【使用期限】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【元宝价格】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTen&quot;&gt;【功能属性】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;gold.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/&lt;?=$rs[$i][&#039;FileName&#039;]?&gt;&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,5,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colEight&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,5,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;gold.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;golds.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colFour&quot;&gt;&lt;a href=&quot;golds.php?MinLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&amp;MaxLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=$rs[$i][&#039;UseLv&#039;]?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=$rs[$i][&#039;DeadLine&#039;]?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=$rs[$i][&#039;Cost&#039;]?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd colTen&quot;&gt;&lt;a href=&quot;golds.php?Property=&lt;?=$rs[$i][&#039;Property&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Property&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 6){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colSix&quot;&gt;【任务名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colNine&quot;&gt;【任务类别】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【所在地图】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【金钱奖励】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEight&quot;&gt;【经验奖励】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colSix&quot;&gt;&lt;a href=&quot;questinfo.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colNine&quot;&gt;&lt;a href=&quot;questinfos.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;questinfos.php?MinLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&amp;MaxLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=getMapById($rs[$i][&#039;StartMap&#039;])?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=$rs[$i][&#039;Money&#039;]?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd colEight&quot;&gt;&lt;?=$rs[$i][&#039;Experience&#039;]?&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 7){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【地图名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【地图类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colFive&quot;&gt;【地图说明】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;map.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;maps.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colFive&quot; title=&quot;&lt;?=str_replace(&quot;#r&quot;,&quot; &quot;,$rs[$i][&#039;DescItem&#039;])?&gt;&quot;&gt;&lt;?=substr_cut(str_replace(&quot;#r&quot;,&quot; &quot;,$rs[$i][&#039;DescItem&#039;]),88)?&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 8){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEight&quot;&gt;【怪物名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colNine&quot;&gt;【等级】&lt;/div&gt;<br />
			  &lt;div class=&quot; p14 cBlack backgroundGray dd colNine&quot;&gt;【经验】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colSeven&quot;&gt;【所在地图】&lt;/div&gt;<br />
			  &lt;div class=&quot; p14 cBlack backgroundGray dd col13&quot;&gt;【坐标】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;monster.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=getImage($rs[$i][&#039;FileName&#039;])?&gt;.jpg&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,7,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colEight&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,7,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;monster.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;? if($rs[$i][&#039;ItemClass&#039;]==&#039;BOSS怪物&#039;) echo &quot;&lt;font color=red&gt;[boss]&lt;/font&gt;&quot;;?&gt;&lt;/a&gt;&lt;/span&gt;<br />
              &lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colNine&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/div&gt;<br />
			  &lt;div class=&quot; p14 cBlack dd colNine&quot;&gt;&lt;?=$rs[$i][&#039;Experience&#039;]?$rs[$i][&#039;Experience&#039;]:&quot;&amp;nbsp;&quot;?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colSeven&quot;&gt;&lt;?=getMapByName($rs[$i][&#039;Map&#039;])?&gt;&lt;/div&gt;<br />
			  &lt;div class=&quot; p14 cBlack dd col13&quot;&gt;<br />
			  &lt;? if($rs[$i][&#039;ItemClass&#039;]!=&#039;首领头目&#039;){ ?&gt;&lt;?=$rs[$i][&#039;Points&#039;]?&quot;(&quot;.str_replace(&quot;&amp;&quot;,&quot;,&quot;,$rs[$i][&#039;Points&#039;]).&quot;)&quot;:&quot;&amp;nbsp;&quot;?&gt;&lt;? }else echo &quot;多处&quot;; ?&gt;&lt;/div&gt;<br />
			  &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 9){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【NPC名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colFour&quot;&gt;【类别】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEight&quot;&gt;【称号】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【所在地图】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colEight&quot;&gt;【位置】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col12&quot;&gt;【职能】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;? if(strlen($rs[$i][&#039;FileName&#039;])){ ?&gt;&lt;a href=&quot;npc.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=getImage($rs[$i][&#039;FileName&#039;])?&gt;.jpg&quot; width=&quot;37&quot; height=&quot;38&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,6,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;<br />
              &lt;?php }else echo &quot;&amp;nbsp;&quot;; ?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,6,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;npc.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colFour&quot;&gt;&lt;a href=&quot;npcs.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colEight&quot;&gt;&lt;?=$rs[$i][&#039;Title&#039;]?$rs[$i][&#039;Title&#039;]:&quot;&amp;nbsp;&quot;?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;?=getMapByName($rs[$i][&#039;Map&#039;])?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd colEight&quot;&gt;&lt;?=$rs[$i][&#039;Place&#039;]?&gt;&lt;/div&gt;<br />
             &lt;div class=&quot; p14 cBlack dd col12&quot;&gt;&lt;a href=&quot;npcs.php?Duty=&lt;?=$rs[$i][&#039;Duty&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Duty&#039;]?$rs[$i][&#039;Duty&#039;]:&quot;&amp;nbsp;&quot;?&gt;&lt;/a&gt;&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php } ?&gt;<br />
        &lt;?php }else if($a == 10){ ?&gt;<br />
            &lt;div class=&quot;dl&quot;&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dt&quot;&gt;【图标】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col13&quot;&gt;【装备名称】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col16&quot;&gt;【物品分类】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colTwo&quot;&gt;【物品类型】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col15&quot;&gt;【等级】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd colNine&quot;&gt;【物品用途】&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack backgroundGray dd col18&quot;&gt;【获取路径】&lt;/div&gt;<br />
            &lt;/div&gt;<br />
            &lt;?php for($i=0;$i&lt;count($rs);$i++){ ?&gt;<br />
            &lt;div class=&quot;dl&quot; onmouseover=&quot;currentcolor=this.style.backgroundColor;this.style.backgroundColor=&#039;#E5F0EA&#039;&quot; onmouseout=&quot;this.style.backgroundColor=currentcolor&quot;&gt;<br />
              &lt;div class=&quot;p14 dt&quot;&gt;&lt;a href=&quot;thing.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://ue1.17173.itc.cn/tldb/images/&lt;?=$rs[$i][&#039;FileName&#039;]?&gt;.jpg&quot; width=&quot;41&quot; height=&quot;42&quot; border=&quot;0&quot;  onMouseOver=&quot;Face_MouseOver(event,8,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;/&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col13&quot;&gt;&lt;span onMouseOver=&quot;Face_MouseOver(event,8,&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;)&quot; onMouseOut=&quot;Face_MouseOut()&quot;&gt;&lt;a href=&quot;thing.php?id=&lt;?=$rs[$i][&#039;ClassID&#039;]?&gt;&quot; target=&quot;_blank&quot;&gt;&lt;?=$rs[$i][&#039;ItemName&#039;]?&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col16&quot;&gt;&lt;a href=&quot;things.php?ClassType=&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ClassType&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colTwo&quot;&gt;&lt;a href=&quot;things.php?ItemClass=&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;ItemClass&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col15&quot;&gt;&lt;a href=&quot;things.php?MinLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&amp;MaxLv=&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&quot;&gt;&lt;?=$rs[$i][&#039;Lv&#039;]?&gt;&lt;/a&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd colNine&quot;&gt;&lt;?=$rs[$i][&#039;Uses&#039;]?$rs[$i][&#039;Uses&#039;]:&quot;&amp;nbsp;&quot;?&gt;&lt;/div&gt;<br />
              &lt;div class=&quot; p14 cBlack dd col18&quot; title=&quot;&lt;?=filters($rs[$i][&#039;GetWay&#039;])?&gt;&quot;&gt;&lt;?=filters(getMapByName(substr_cut($rs[$i][&#039;GetWay&#039;],32)))?&gt;&lt;/div&gt;<br />
              &lt;/div&gt;<br />
            &lt;?php }?&gt;<br />
        &lt;?php }?&gt;&lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;<br />
                  &lt;/div&gt;<br />
                  &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;<br />
                &lt;/div&gt;<br />
                &lt;div id=&quot;panelRevelationBottom&quot;&gt;<br />
                  &lt;div class=&quot;p12 cWhite current&quot;&gt;&lt;/div&gt;<br />
                  &lt;div class=&quot;p12 cWhite pagination&quot;&gt;&lt;/div&gt;<br />
                &lt;/div&gt;<br />
                &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;<br />
              &lt;/div&gt;<br />
        &lt;/div&gt;<br />
		&lt;?php } ?&gt;<br />
        &lt;SCRIPT&gt;<br />
		&lt;!--<br />
        var tab_config = {&quot;label&quot;  :[&quot;content1&quot;,&quot;content2&quot;,&quot;content3&quot;,&quot;content4&quot;,&quot;content5&quot;,&quot;content6&quot;,&quot;content7&quot;,&quot;content8&quot;,&quot;content9&quot;,&quot;content10&quot;],<br />
                          &quot;content&quot;:[&quot;ccontent1&quot;,&quot;ccontent2&quot;,&quot;ccontent3&quot;,&quot;ccontent4&quot;,&quot;ccontent5&quot;,&quot;ccontent6&quot;,&quot;ccontent7&quot;,&quot;ccontent8&quot;,&quot;ccontent9&quot;,&quot;ccontent10&quot;],<br />
                          &quot;current&quot;:&quot;quhuan&quot;,<br />
                          &quot;normal&quot; :&quot;quhuan1&quot;,<br />
                          &quot;current_label&quot;:&quot;content1&quot;<br />
                          }<br />
        var tab2 = new tab_effect(tab_config);<br />
        tab2.init(&quot;滑过&quot;);<br />
        //--&gt;<br />
        &lt;/SCRIPT&gt;<br />
        &lt;?php } ?&gt;<br />
    &lt;/div&gt;<br />
  &lt;/div&gt;<br />
  &lt;?php include(&quot;sidebar.html&quot;); ?&gt;<br />
  &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;<br />
&lt;/div&gt;<br />
&lt;?php include(&quot;footer.html&quot;); ?&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;</code></pre><p class='detail'><br />
<br />
</p><pre><code>&lt;?<br />
/*<br />
系统配置文件<br />
*/<br />
<br />
$DbHost=&quot;10.59.96.114:3307&quot;;<br />
$DbName=&quot;wowdb&quot;;<br />
$DbUser=&quot;wowdb&quot;;<br />
$DbPwd =&quot;@!#$%$#$@@@@&quot;;<br />
<br />
$DbHost1=&quot;10.59.96.114:3307&quot;;<br />
$DbName1=&quot;wow_interface&quot;;<br />
$DbUser1=&quot;wow_interface&quot;;<br />
$DbPwd1 =&quot;@!#$%$#$@@@@&quot;;<br />
<br />
<br />
$sys_config = array(<br />
&quot;list_ip&quot;=&gt;&quot;218.66.59.108|10.5.21.49|127.0.0.1&quot;,<br />
&quot;comment_url&quot;=&gt;&quot;http://comment.news.17173.com/makecomment.php&quot;,<br />
&quot;comment_identy&quot;=&gt;&quot;newgame@!sc90ke2!cn3gh+*)&quot;<br />
);<br />
<br />
<br />
$manager_type = array<br />
(<br />
 1 =&gt; &quot;一般管理员&quot;, <br />
 9 =&gt; &quot;系统管理员&quot;<br />
);<br />
<br />
$popedom_type = array<br />
(<br />
 1 =&gt; &quot;一级&quot;, <br />
 2 =&gt; &quot;二级&quot;,<br />
 3 =&gt; &quot;三级&quot;, <br />
 4 =&gt; &quot;四级&quot;, <br />
 5 =&gt; &quot;五级&quot;<br />
);<br />
<br />
$geKey = &quot;1qwerfdsa&quot;;<br />
<br />
//装备表名<br />
$itemTableArr = array(&quot;ge_item_weapon&quot;, &quot;ge_item_safe&quot;, &quot;ge_item_adorn&quot;, &quot;ge_item_other&quot;);<br />
<br />
//NPC性别<br />
$npcSexArr = array(&quot;Both&quot;=&gt;&quot;男/女&quot;, &quot;Female&quot;=&gt;&quot;女&quot;, &quot;Male&quot;=&gt;&quot;男&quot;);<br />
$htmlDir = &quot;/html/&quot;;<br />
<br />
?&gt;</code></pre><p class='detail'> </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">配置啊 低级问题啊 </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/路人甲" title="路人甲">路人甲</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-02600" title="17173整站源码泄露">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
															<h3 class="detailTitle">厂商回应：</h3>
						<p class="detail">危害等级：无影响厂商忽略</p>
													<p class="detail">忽略时间：2011-07-31 19:19</p>
												<h3 class="detailTitle">厂商回复：</h3>				
						<p class="detail"></p>
													<p class="detail">漏洞Rank：3 (WooYun评价)</p>
											

					
					
					<h3 class="detailTitle">最新状态：</h3>

											<p class="detail">暂无</p>
					

							
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="2600";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
