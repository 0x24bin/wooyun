<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		我是如何利用SQL注入反败为胜的搞定中国移动分站300多万用户！  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		我是如何利用SQL注入反败为胜的搞定中国移动分站300多万用户！  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/Hxai11">Hxai11</a> 
</li><li>提交时间：		2013-08-06 00:00</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2013-08-06：	细节已通知厂商并且等待厂商处理中<br/>
									2013-08-10：	厂商已经确认，细节仅向厂商公开<br/>
									2013-08-20：	细节向核心白帽子及相关领域专家公开<br/>
									2013-08-30：	细节向普通白帽子公开<br/>
									2013-09-09：	细节向实习白帽子公开<br/>
									2013-09-20：	细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">SQL注入害死人啊</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail">发现注入的过程比较有意思，首先本来想社工http://dev.10086.cn/（移动开发者论坛）这个站论坛里面的shmily1023121用户，超级管理员哦，到最后没社工成功，反倒发现了sql注入，首先说下社工shmily1023121管理员的失败过程吧，但是也值得注意，安全意识有提升的空间<br />
<br />
<br />
<br />
<br />
<br />
首先shmily1023121 用户在其论坛中属于比较特别的用户名，从比较特别的用户名下手容易搜出密码，于是我社工库查询了一下密码，没想到给我查到了<br />
<br />
</p><p class="detail"><a href="../images/05225648906df33e8ad9dcdaa8eef03151681db5.jpg" target="_blank"><img src="../images/05225648906df33e8ad9dcdaa8eef03151681db5.jpg" alt="BMU{8S1OW1A5]LC6EU@MFJB.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
我们看到，有邮箱啊，于是赶紧尝试登陆邮箱，如果邮箱登陆正确的话，那么其他网站的账户密码应该也是相同的，邮箱能够登陆哦<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/05225834c32278342538ff56f77285708f2075b6.jpg" target="_blank"><img src="../images/05225834c32278342538ff56f77285708f2075b6.jpg" alt="$OZT7MDPNTV_0EC)GRMBU@W.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
于是我在猜想，那么，开发者论坛是不是也是这么密码呢，现在有个问题，开发者论坛账户不是用用户名登陆的，所以说不能够用shmily1023121登陆，那么可不可能是她的邮箱呢，就是 shmily10231211@163.com 这个是登陆用的呢，我试了试，不行，因为开发者论坛有两种登陆模式，一种是手机的，一种是邮箱的，于是我开始猜想是不是可能用手机登陆呢，可是我不知道她的手机，我怎么登陆？于是我开始了寻找，最终在这http://www.boohee.com/ <br />
<br />
网站搜索到了她的手机<br />
<br />
</p><p class="detail"><a href="../images/05230414a2b727e9a9432651e8fa334ad28d0a76.jpg" target="_blank"><img src="../images/05230414a2b727e9a9432651e8fa334ad28d0a76.jpg" alt="LYE21W4{D0KZ8%E~S16Z$29.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
这下好了，于是我马上尝试登陆，发现密码怎么都不队，后来我才发现，开发者论坛要求密码的复杂性，需要字母加数字加字符，我去，没戏了，我根本不知道，就在我一筹莫展的时候，谷歌再次帮了我的忙，接着往下看<br />
<br />
我查询了论坛总最大的管理员，就这个<br />
<br />
</p><p class="detail"><a href="../images/052308164f87f5a76a622147a062c097a494ba73.jpg" target="_blank"><img src="../images/052308164f87f5a76a622147a062c097a494ba73.jpg" alt="XLRMZW2O66NQXDHUYJ%GHCS.jpg" width="600"/></a></p><p class="detail"><br />
<br />
看到了吗，于是我利用谷歌搜索这个用户相关信息的时候，人品爆发,当我点开这个的时候<br />
<br />
</p><p class="detail"><a href="../images/05231104b24d0dee72829b67ab91270ff1b5768f.jpg" target="_blank"><img src="../images/05231104b24d0dee72829b67ab91270ff1b5768f.jpg" alt="C]UXRG1DO%[28C(67`E$N@R.jpg" width="600"/></a></p><p class="detail"><br />
<br />
http://dev.10086.cn/cmdn/supesite/newdev.joyesdetail.php?recommendId=24<br />
<br />
我有种预感，有注入！！！！<br />
<br />
于是马上and1=1 and1=2测试了一下，真有注入，我去，人品真的爆发了<br />
<br />
</p><p class="detail"><a href="../images/052312309cba8d6568bf68f328eda2f35f971e2b.jpg" target="_blank"><img src="../images/052312309cba8d6568bf68f328eda2f35f971e2b.jpg" alt="{KULYY)ZZ~P)XKP]$~4CGI0.jpg" width="600"/></a></p><p class="detail"><br />
<br />
马上拿到sqlmap里跑，剩下的你懂得，全论坛300多万用户信息都能看得到，最重要的是，很多139邮箱，139邮箱大家都知道是用手机号的吧，你懂得，这么多手机号泄露。。后果不堪设想<br />
<br />
</p><p class="detail"><a href="../images/052314546910628343b1ad4d76457d628b4dd84d.jpg" target="_blank"><img src="../images/052314546910628343b1ad4d76457d628b4dd84d.jpg" alt="`NRLC_HUZ$R2G(B407S}14G.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/05231522f64a94902419456d8ce02b2063714d4d.jpg" target="_blank"><img src="../images/05231522f64a94902419456d8ce02b2063714d4d.jpg" alt="@`%}W]``(RV4K@F$NYDJSVO.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/05231546f79744c92c57b3ba05f96c507f959330.jpg" target="_blank"><img src="../images/05231546f79744c92c57b3ba05f96c507f959330.jpg" alt=")SED4_$@}[{MP61{04Z12}E.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/0523162380b024b4f874982b2df90309c55e5dc5.jpg" target="_blank"><img src="../images/0523162380b024b4f874982b2df90309c55e5dc5.jpg" alt="FN{)$D)37%H$8JA@N43DYMT.jpg" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
 </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail"></p><p class="detail"><a href="../images/05231607d520c3ff04ed224230b08556a0d1be1a.jpg" target="_blank"><img src="../images/05231607d520c3ff04ed224230b08556a0d1be1a.jpg" alt="RALH3BV5K]O2$(GB16{EB@V.jpg" width="600"/></a></p><p class="detail"> </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">修补注入，安全意识 </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/Hxai11" title="Hxai11">Hxai11</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-033569" title="我是如何利用SQL注入反败为胜的搞定中国移动分站300多万用户！">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
															<h3 class="detailTitle">厂商回应：</h3>
						<p class="detail">危害等级：高</p>
						<p class="detail">漏洞Rank：12 </p>
													<p class="detail">确认时间：2013-08-10 23:13</p>
												<h3 class="detailTitle">厂商回复：</h3>				
						<p class="detail"> </p>
					

					
					
					<h3 class="detailTitle">最新状态：</h3>

											<p class="detail">暂无</p>
					

							
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="33569";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
