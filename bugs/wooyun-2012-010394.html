<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		Burp Suite应用分享之Web漏洞扫描  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		Burp Suite应用分享之Web漏洞扫描  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/NCK_上官">NCK_上官</a> 
</li><li>提交时间：		2012-07-31 14:56</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2012-07-31：	积极联系厂商并且等待厂商认领中，细节不对外公开<br/>
									2012-07-31：	厂商已经主动忽略漏洞，细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">随着Web2.0时代的来临,后又推向Web3.0,Web安全开 始备受瞩目,对于白帽来说,测试时使用的工具越方便、全面、迅速越好。下面推荐一个工具Burp Suite，其功能包括HTTP包的截获及修改，扫描，网站爬行，爆破，注入检测等功能。下面就讲解一下Burp Suite的用法（大牛绕过）</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail">Burp suite 是利用本地代理结果所传送的数据包，运行之前需要安装JAVA环境，当然网上转来转去的天花乱坠的教程很多，可是有用的地方很少，而有些人还在网上去卖这些工具的使用教程，实在无法忍受。<br />
<br />
<br />
<br />
关于Burp suite 我准备分别对数据包截获修改，网站扫描，网站爆破，注入检测做分开讲解。 <br />
<br />
<br />
<br />
本次就来说一下Burp suite强悍的扫描功能。<br />
<br />
<br />
<br />
首先，来设置下代理<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31133306d68c917627ece38961ecfaae671f3cf1.png" target="_blank"><img src="../images/31133306d68c917627ece38961ecfaae671f3cf1.png" alt="" width="600"/></a></p><p class="detail">此端口可以随意设置，不影响其他通信就OK <br />
<br />
<br />
<br />
接着，我们用本地浏览器通过此代理进行网络访问。<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/311332455378b46b17c3f44c2aec31df85c476ca.png" target="_blank"><img src="../images/311332455378b46b17c3f44c2aec31df85c476ca.png" alt="" width="600"/></a></p><p class="detail">这样 Bruf 就可以截获网页数据包了<br />
<br />
<br />
<br />
浏览下baidu试试效果，如下图<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/3113323102618190747cdf8c42b7cc47f7044388.png" target="_blank"><img src="../images/3113323102618190747cdf8c42b7cc47f7044388.png" alt="" width="600"/></a></p><p class="detail">可见，所有通过百度的数据包都已经被截获了，而且在截获的过程中爬行了相关域名下路径，可以再截获数据包的时候进行改包和发送，forward或者drop，这个就先不说了，此次重点是扫描,点击scanner可以看到下面有四个选项,结果,扫描队列,存活的扫描线程和选项<br />
<br />
</p><p class="detail"><a href="../images/31133210b0f01d60f6591a89ae75e14858a382ae.png" target="_blank"><img src="../images/31133210b0f01d60f6591a89ae75e14858a382ae.png" alt="" width="600"/></a></p><p class="detail">不用理会我那个红色的proxy,那是其他网页传输数据就会提示,在active scanning中可以随自己的想法来设置,在选项中可以设置你想要去扫描的类型<br />
<br />
</p><p class="detail"><a href="../images/31133151f9fda9e27d42a642096bc1dd4e4ccc0e.png" target="_blank"><img src="../images/31133151f9fda9e27d42a642096bc1dd4e4ccc0e.png" alt="" width="600"/></a></p><p class="detail">想扫什么选什么,不然速度很慢,当然,此时已经是自动(主动)扫描模式,你所打开网页后所截获的数据的url都会被扫描到<br />
<br />
</p><p class="detail"><a href="../images/311331366e524f3f2ee17af056ddf76604e36536.png" target="_blank"><img src="../images/311331366e524f3f2ee17af056ddf76604e36536.png" alt="" width="600"/></a></p><p class="detail">在这里也可以设置你想定义的扫描范围,暂不做演示,我选择第二项,来扫描我所选择的网页<br />
<br />
</p><p class="detail"><a href="../images/311331213634a0849fdd7dc4f3280c79f144a466.png" target="_blank"><img src="../images/311331213634a0849fdd7dc4f3280c79f144a466.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
OK，那么现在我们回到target,在截获的URL中选择你想扫描的(也可以CTRL+A)全选,右键加入到scope里<br />
<br />
</p><p class="detail"><a href="../images/311331027369075e9e8046fa91eb4f5a8799f9a8.png" target="_blank"><img src="../images/311331027369075e9e8046fa91eb4f5a8799f9a8.png" alt="" width="600"/></a></p><p class="detail">在看scope<br />
<br />
</p><p class="detail"><a href="../images/311330441a20e00017dfb07d17cca5697c096449.png" target="_blank"><img src="../images/311330441a20e00017dfb07d17cca5697c096449.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
能看到都是用正则来判断的,其实这里面大可以自己来写想要获取的url正则,比如以任意字符开头，后面包含baidu.com都可以，这就要看自己的正则水平了。<br />
<br />
<br />
<br />
下面我们回到sitemap来扫描这两个站试试<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31133024a0c811c581acabd3f2f6050631c86585.png" target="_blank"><img src="../images/31133024a0c811c581acabd3f2f6050631c86585.png" alt="" width="600"/></a></p><p class="detail"></p><p class="detail"><a href="../images/31133014f1490e04afd332ebac0a570cec8dea7a.png" target="_blank"><img src="../images/31133014f1490e04afd332ebac0a570cec8dea7a.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
当你自定义扫描范围的时候，上面的两个选项才会变成可选，这次我所演示的是单一的扫描，但是不要忘记，定义扫描范围，要在scanning中live scanning中设置。<br />
<br />
</p><p class="detail"><a href="../images/31132957732dabcbdb73e59242ebf2404fe21217.png" target="_blank"><img src="../images/31132957732dabcbdb73e59242ebf2404fe21217.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
Next之后可以看到我们所得到的url，点击OK 开启扫描<br />
<br />
</p><p class="detail"><a href="../images/31132924cf0330407060903862c42c466246bb5f.png" target="_blank"><img src="../images/31132924cf0330407060903862c42c466246bb5f.png" alt="" width="600"/></a></p><p class="detail">回到scan queue中可以看到扫描线程和状态，估计我这个也扫不出来什么，我刚把所有的扫描项目都选上了，还是要慢慢的等。 <br />
<br />
<br />
<br />
等待的这段时间我在说点别的，其实对于这样的检测，可以推荐大家多使用appscan和WVS之类的软件，但我个人还是比较喜欢这个，不用安装，小巧方便，扫描的类型及范围都可自定义。而且速度快。效果还算不错，功能也多。<br />
<br />
<br />
<br />
OK，扫好了<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/3113290440dadaf434ffc02505df8ddd30190f1f.png" target="_blank"><img src="../images/3113290440dadaf434ffc02505df8ddd30190f1f.png" alt="" width="600"/></a></p><p class="detail">左边的是域名及扫描的树状结构，右边是具体的问题分析及数据包，可以看到hi的域名有跨域文件，看下具体的<br />
<br />
</p><p class="detail"><a href="../images/3113284842fe194dc5bfd3b09748b076040fa050.png" target="_blank"><img src="../images/3113284842fe194dc5bfd3b09748b076040fa050.png" alt="" width="600"/></a></p><p class="detail">还好是有限制的，高危的会显示为红色，黄色的是普通问题，还有就是？,需要自己来判断是否是问题或者漏洞<br />
<br />
</p><p class="detail"><a href="../images/311328336e8f8bea5f474493fcfda82424b2eacb.png" target="_blank"><img src="../images/311328336e8f8bea5f474493fcfda82424b2eacb.png" alt="" width="600"/></a></p><p class="detail">可以再这里看到<br />
<br />
<br />
<br />
如果有误报，可以将其标记，以后相同的问题就不会再报了<br />
<br />
<br />
<br />
这个结果是可以输出的<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31132815dc16709a4217071fa38c14aabd62d04a.png" target="_blank"><img src="../images/31132815dc16709a4217071fa38c14aabd62d04a.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
至于输出什么样的格式我就不演示了，大家都是大牛，没必要，一路NEXT，选择输出就OK<br />
<br />
<br />
<br />
好了基本上这块就差不多了，关于数据包截取改包，暴力破解，下次再说，在做这个的时候其实已经把网站爬行的地方演示了，但是这一个小小的JAVA程序，却还有很多其他的功能，下次有空在发出来给大家分享。<br />
<br />
<br />
<br />
因为平时工作很忙，只能挑空余的时间来写点东西，分享分享，肯定会有不全面的地方，会的请飘过，不会的看看大家一起学习学习。<br />
<br />
<br />
<br />
下次会和大家分享burp的其他使用方法和功能。<br />
<br />
 </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail">Burp suite 是利用本地代理结果所传送的数据包，运行之前需要安装JAVA环境，当然网上转来转去的天花乱坠的教程很多，可是有用的地方很少，而有些人还在网上去卖这些工具的使用教程，实在无法忍受。<br />
<br />
<br />
<br />
关于Burp suite 我准备分别对数据包截获修改，网站扫描，网站爆破，注入检测做分开讲解。 <br />
<br />
<br />
<br />
本次就来说一下Burp suite强悍的扫描功能。<br />
<br />
<br />
<br />
首先，来设置下代理<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31133306d68c917627ece38961ecfaae671f3cf1.png" target="_blank"><img src="../images/31133306d68c917627ece38961ecfaae671f3cf1.png" alt="" width="600"/></a></p><p class="detail">此端口可以随意设置，不影响其他通信就OK <br />
<br />
<br />
<br />
接着，我们用本地浏览器通过此代理进行网络访问。<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/311332455378b46b17c3f44c2aec31df85c476ca.png" target="_blank"><img src="../images/311332455378b46b17c3f44c2aec31df85c476ca.png" alt="" width="600"/></a></p><p class="detail">这样 Bruf 就可以截获网页数据包了<br />
<br />
<br />
<br />
浏览下baidu试试效果，如下图<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/3113323102618190747cdf8c42b7cc47f7044388.png" target="_blank"><img src="../images/3113323102618190747cdf8c42b7cc47f7044388.png" alt="" width="600"/></a></p><p class="detail">可见，所有通过百度的数据包都已经被截获了，而且在截获的过程中爬行了相关域名下路径，可以再截获数据包的时候进行改包和发送，forward或者drop，这个就先不说了，此次重点是扫描,点击scanner可以看到下面有四个选项,结果,扫描队列,存活的扫描线程和选项<br />
<br />
</p><p class="detail"><a href="../images/31133210b0f01d60f6591a89ae75e14858a382ae.png" target="_blank"><img src="../images/31133210b0f01d60f6591a89ae75e14858a382ae.png" alt="" width="600"/></a></p><p class="detail">不用理会我那个红色的proxy,那是其他网页传输数据就会提示,在active scanning中可以随自己的想法来设置,在选项中可以设置你想要去扫描的类型<br />
<br />
</p><p class="detail"><a href="../images/31133151f9fda9e27d42a642096bc1dd4e4ccc0e.png" target="_blank"><img src="../images/31133151f9fda9e27d42a642096bc1dd4e4ccc0e.png" alt="" width="600"/></a></p><p class="detail">想扫什么选什么,不然速度很慢,当然,此时已经是自动(主动)扫描模式,你所打开网页后所截获的数据的url都会被扫描到<br />
<br />
</p><p class="detail"><a href="../images/311331366e524f3f2ee17af056ddf76604e36536.png" target="_blank"><img src="../images/311331366e524f3f2ee17af056ddf76604e36536.png" alt="" width="600"/></a></p><p class="detail">在这里也可以设置你想定义的扫描范围,暂不做演示,我选择第二项,来扫描我所选择的网页<br />
<br />
</p><p class="detail"><a href="../images/311331213634a0849fdd7dc4f3280c79f144a466.png" target="_blank"><img src="../images/311331213634a0849fdd7dc4f3280c79f144a466.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
OK，那么现在我们回到target,在截获的URL中选择你想扫描的(也可以CTRL+A)全选,右键加入到scope里<br />
<br />
</p><p class="detail"><a href="../images/311331027369075e9e8046fa91eb4f5a8799f9a8.png" target="_blank"><img src="../images/311331027369075e9e8046fa91eb4f5a8799f9a8.png" alt="" width="600"/></a></p><p class="detail">在看scope<br />
<br />
</p><p class="detail"><a href="../images/311330441a20e00017dfb07d17cca5697c096449.png" target="_blank"><img src="../images/311330441a20e00017dfb07d17cca5697c096449.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
能看到都是用正则来判断的,其实这里面大可以自己来写想要获取的url正则,比如以任意字符开头，后面包含baidu.com都可以，这就要看自己的正则水平了。<br />
<br />
<br />
<br />
下面我们回到sitemap来扫描这两个站试试<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31133024a0c811c581acabd3f2f6050631c86585.png" target="_blank"><img src="../images/31133024a0c811c581acabd3f2f6050631c86585.png" alt="" width="600"/></a></p><p class="detail"></p><p class="detail"><a href="../images/31133014f1490e04afd332ebac0a570cec8dea7a.png" target="_blank"><img src="../images/31133014f1490e04afd332ebac0a570cec8dea7a.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
当你自定义扫描范围的时候，上面的两个选项才会变成可选，这次我所演示的是单一的扫描，但是不要忘记，定义扫描范围，要在scanning中live scanning中设置。<br />
<br />
</p><p class="detail"><a href="../images/31132957732dabcbdb73e59242ebf2404fe21217.png" target="_blank"><img src="../images/31132957732dabcbdb73e59242ebf2404fe21217.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
Next之后可以看到我们所得到的url，点击OK 开启扫描<br />
<br />
</p><p class="detail"><a href="../images/31132924cf0330407060903862c42c466246bb5f.png" target="_blank"><img src="../images/31132924cf0330407060903862c42c466246bb5f.png" alt="" width="600"/></a></p><p class="detail">回到scan queue中可以看到扫描线程和状态，估计我这个也扫不出来什么，我刚把所有的扫描项目都选上了，还是要慢慢的等。 <br />
<br />
<br />
<br />
等待的这段时间我在说点别的，其实对于这样的检测，可以推荐大家多使用appscan和WVS之类的软件，但我个人还是比较喜欢这个，不用安装，小巧方便，扫描的类型及范围都可自定义。而且速度快。效果还算不错，功能也多。<br />
<br />
<br />
<br />
OK，扫好了<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/3113290440dadaf434ffc02505df8ddd30190f1f.png" target="_blank"><img src="../images/3113290440dadaf434ffc02505df8ddd30190f1f.png" alt="" width="600"/></a></p><p class="detail">左边的是域名及扫描的树状结构，右边是具体的问题分析及数据包，可以看到hi的域名有跨域文件，看下具体的<br />
<br />
</p><p class="detail"><a href="../images/3113284842fe194dc5bfd3b09748b076040fa050.png" target="_blank"><img src="../images/3113284842fe194dc5bfd3b09748b076040fa050.png" alt="" width="600"/></a></p><p class="detail">还好是有限制的，高危的会显示为红色，黄色的是普通问题，还有就是？,需要自己来判断是否是问题或者漏洞<br />
<br />
</p><p class="detail"><a href="../images/311328336e8f8bea5f474493fcfda82424b2eacb.png" target="_blank"><img src="../images/311328336e8f8bea5f474493fcfda82424b2eacb.png" alt="" width="600"/></a></p><p class="detail">可以再这里看到<br />
<br />
<br />
<br />
如果有误报，可以将其标记，以后相同的问题就不会再报了<br />
<br />
<br />
<br />
这个结果是可以输出的<br />
<br />
<br />
<br />
</p><p class="detail"><a href="../images/31132815dc16709a4217071fa38c14aabd62d04a.png" target="_blank"><img src="../images/31132815dc16709a4217071fa38c14aabd62d04a.png" alt="" width="600"/></a></p><p class="detail"><br />
<br />
至于输出什么样的格式我就不演示了，大家都是大牛，没必要，一路NEXT，选择输出就OK<br />
<br />
<br />
<br />
好了基本上这块就差不多了，关于数据包截取改包，暴力破解，下次再说，在做这个的时候其实已经把网站爬行的地方演示了，但是这一个小小的JAVA程序，却还有很多其他的功能，下次有空在发出来给大家分享。<br />
<br />
<br />
<br />
因为平时工作很忙，只能挑空余的时间来写点东西，分享分享，肯定会有不全面的地方，会的请飘过，不会的看看大家一起学习学习。<br />
<br />
<br />
<br />
下次会和大家分享burp的其他使用方法和功能。<br />
<br />
 </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail"> </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/NCK_上官" title="NCK_上官">NCK_上官</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-010394" title="Burp Suite应用分享之Web漏洞扫描">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
									<h3 class="detailTitle">厂商回应：</h3>
										<p class="detail">未能联系到厂商或者厂商积极拒绝</p>
																	
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="10394";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
