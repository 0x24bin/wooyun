<!doctype html>
                        <html lang="en">
                        <head>
	                        <meta charset="UTF-8">
	                        <title>		手机快播私有云不私有（可被他人查看私密视频）  </title>
	                        <link href="../css/css.css" rel="stylesheet" /> 
                        </head>
                        <body> 
                        <ul><li>标题：		手机快播私有云不私有（可被他人查看私密视频）  </li><li>作者：		<a href="http://www.wooyun.org/whitehats/px1624">px1624</a> 
</li><li>提交时间：		2013-09-13 11:05</li></ul>
                        <div class="con">
                        <h2>漏洞详情</h2>
		<h3 class="detailTitle">披露状态：</h3>
		<p class="detail" style="padding-bottom:0">
					</p>
		<p class="detail">
									2013-09-13：	细节已通知厂商并且等待厂商处理中<br/>
									2013-09-13：	厂商主动忽略漏洞，细节向第三方安全合作伙伴开放<br/>
									2013-12-09：	细节向公众公开<br/>
					</p>
		<h3 class="detailTitle">简要描述：</h3>

		<p class="detail">快播，你懂的。快播的“私有云”功能，大家懂的~</p>

				
						<h3 class="detailTitle">详细说明：</h3>
		
			<p class="detail">下面是手机快播的私有云功能。<br />
<br />
<br />
<br />
估计这个功能就是为屌丝下片又怕被人发现所设计的。所以这里，我进行屌丝模拟的实际演示。<br />
<br />
<br />
<br />
1 用手机快播下载一个片子，然后使用快播的私有云功能去加密（点击下图中的添加到私有云）。<br />
<br />
</p><p class="detail"><a href="../images/122220504758a57af62924c9ea379df3daba3995.png" target="_blank"><img src="../images/122220504758a57af62924c9ea379df3daba3995.png" alt="1.png" width="600"/></a></p><p class="detail"><br />
<br />
2 可以看到在添加到私有云之后，私有云功能打开的时候，那里有显示私有视频，并且视频上带有“私”字标志。<br />
<br />
</p><p class="detail"><a href="../images/1222211307c599aac4c2fff122043891aa7f9ece.png" target="_blank"><img src="../images/1222211307c599aac4c2fff122043891aa7f9ece.png" alt="2.png" width="600"/></a></p><p class="detail"><br />
<br />
3 关闭私有视频的开关，可以看到私有视频不再显示了。<br />
<br />
</p><p class="detail"><a href="../images/12222153d066c24269269210f1d444322768b806.png" target="_blank"><img src="../images/12222153d066c24269269210f1d444322768b806.png" alt="3.png" width="600"/></a></p><p class="detail"><br />
<br />
4 如果要打开私有视频，那就需要输入之前设定的密码。<br />
<br />
</p><p class="detail"><a href="../images/12222211a0bc0c27243c61eb6c154e5f12dd2bd3.png" target="_blank"><img src="../images/12222211a0bc0c27243c61eb6c154e5f12dd2bd3.png" alt="4.png" width="600"/></a></p><p class="detail"> </p>
				
									<h3 class="detailTitle">漏洞证明：</h3>

			<p class="detail">以上私密视频的设定，看起来没啥问题，可以很好的保护用户的隐私（比如下载了好看的片，又不舍得删掉，但是又怕别女友或者朋友之类的人发现）。<br />
<br />
但是，请看下面的绕过，完全可以在用户将视频加入到私有云后，去浏览观看私有视频。从而绕过那个私有云的密码限制。<br />
<br />
<br />
<br />
1 用ES文件浏览器之类的软件即可。打开ES文件浏览器，手机快播的默认视频缓存目录是p2pcache文件夹。<br />
<br />
</p><p class="detail"><a href="../images/12222235618100ed86aad4ab2923febef4acad4c.png" target="_blank"><img src="../images/12222235618100ed86aad4ab2923febef4acad4c.png" alt="5.png" width="600"/></a></p><p class="detail"><br />
<br />
2 打开文件夹发现里面有一个字符命名的文件夹，再打开发现里面啥都没有，其实是这个文件夹的默认属性是隐藏，只需要将ES文件浏览器设置处，勾选上“显示隐藏文件”选项即可。<br />
<br />
</p><p class="detail"><a href="../images/12222256016cba3b0783210b2cc666b304e3d66d.png" target="_blank"><img src="../images/12222256016cba3b0783210b2cc666b304e3d66d.png" alt="6.png" width="600"/></a></p><p class="detail"><br />
<br />
3 设置好之后再打开，就可以看到好多文件了，没错这些就是快播的缓存文件。<br />
<br />
</p><p class="detail"><a href="../images/122223115193a97eb3b67487930c2a88c09d2bbc.png" target="_blank"><img src="../images/122223115193a97eb3b67487930c2a88c09d2bbc.png" alt="7.png" width="600"/></a></p><p class="detail"><br />
<br />
4 哈哈，原来那个私密云只是在播放器界面处不显示而已额，其实真实的原始视频还是静静的躺在你的手机里。选择用快播播放器打开，就可以观看你不想被别人看到的珍藏的片子了。<br />
<br />
</p><p class="detail"><a href="../images/12222329f01b78858be0a641f3db14a5bcb9611f.png" target="_blank"><img src="../images/12222329f01b78858be0a641f3db14a5bcb9611f.png" alt="8.png" width="600"/></a></p><p class="detail"><br />
<br />
这里由于是屌丝实际操作的模拟，所以视频内容过于真实，可能会有不适合未成年人观看的情景。这里就不贴播放的截图了。。。<br />
<br />
（ps：管理要是觉得部分截图过于暴漏，麻烦给打下马赛克。） </p>

									<h3 class="detailTitle">修复方案：</h3>
			<p class="detail">1 只是单单的对原有文件做隐藏是没啥作用的。<br />
<br />
2 建议可以模仿360、qq电脑管家密盘那样，对原有视频文件进行加密，使其不能直接被快播等浏览器播放。 </p>
										<h3 class="detailTitle">版权声明：转载请注明来源 <a style="font-weight:normal" href="http://www.wooyun.org/whitehats/px1624" title="px1624">px1624</a>@<a style="font-weight:normal" href="http://www.wooyun.org/bugs/wooyun-2010-036949" title="手机快播私有云不私有（可被他人查看私密视频）">乌云</a></h3>
		<hr align="center"/>

				
			<h2>漏洞回应</h2>
			
			
															<h3 class="detailTitle">厂商回应：</h3>
						<p class="detail">危害等级：无影响厂商忽略</p>
													<p class="detail">忽略时间：2013-09-13 14:25</p>
												<h3 class="detailTitle">厂商回复：</h3>				
						<p class="detail">防君子不防小人</p>
											

					
					
					<h3 class="detailTitle">最新状态：</h3>

											<p class="detail">暂无</p>
					

							
					
		
<hr align="center" />
<script type="text/javascript">
var bugid="36949";
var bugRating="-3";
var myRating="";
var ratingCount="0";



function ShowBugRating(k){
	var ratingItems=$(".myrating span");
	$.each(ratingItems,function(i,n){
		var nk=parseInt($(n).attr("rel"));
		if(nk<=k){
			$(n).addClass("on");
		}else{
			$(n).removeClass("on");
		}
	});
	$(".myrating span").hover(
		function(){
			$("#ratingShow").html($(this).attr("data-title"));
		},
		function(){
			$("#ratingShow").html("");
		}
	);
}
$(document).ready(function(){
	if(myRating==""){
		var ratingItems=$(".myrating span");
		$(".myrating span").hover(
			function(){
				$(this).addClass("hover");
				var k=parseInt($(this).attr("rel"));
				$.each(ratingItems,function(i,n){
					var nk=parseInt($(n).attr("rel"));
					if(nk<k) $(n).addClass("on");
					if(nk>k) $(n).removeClass("on");
				});
				$("#ratingShow").html($(this).attr("data-title"));
			},
			function(){
				$(this).removeClass("hover");
				if($("#myRating").val()==""){
					$.each(ratingItems,function(i,n){
						$(n).removeClass("on");
					});
				}
				$("#ratingShow").html("");
			}
		);

		$(".myrating span").click(function(){
			var rating=$(this).attr("rel");
			var k=parseInt($(this).attr("rel"));
			$.post("/ajaxdo.php?module=bugrating",{"id":bugid,"rating":rating,"token":$("#token").val()},function(re){
				//消除操作绑定
				$(".myrating span").unbind();
				re=parseInt(re);
				switch(re){
					case 1:
						$("#ratingShow").html("评分成功");
						$("#ratingSpan").html(parseInt($("#ratingSpan").html())+1);
						$.each(ratingItems,function(i,n){
							var nk=parseInt($(n).attr("rel"));
							if(nk<=k){
								$(n).addClass("on");
							}else{
								$(n).removeClass("on");
							}
						});
						ShowBugRating(rating);
						break;
					case 2:
						$("#ratingShow").html("请先登录");
						break;
					case 4:
						$("#ratingShow").html("已对此漏洞进行过评分");
						break;
					case 6:
						$("#ratingShow").html("不能对自己发布的漏洞进行评分");
						break;
					default:break;
				}
			});
		});
	}else{
		if(ratingCount>2){
			ShowBugRating(bugRating);
		}else{
			ShowBugRating(-3);
		}
	}
});

</script>
<h3 class="detailTitle">漏洞评价：</h3>
                        </div>
                        </body>
                        </html>
